System.register("chunks:///_virtual/AddHighScore.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts"],(function(e){var o,n,t,i,r,c,u,s,a,d,l,p,f,h,y;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,u=e.Node,s=e.KeyCode,a=e.input,d=e.Input,l=e.Label,p=e.EditBox,f=e.director,h=e.Component},function(e){y=e.globalData}],execute:function(){var g,S,b,E,N,m,v;r._RF.push({},"485dbtrmcdMtafo4TO/S61a","AddHighScore",void 0);var _=c.ccclass,K=c.property;e("AddHighScore",(g=_("AddHighScore"),S=K(u),b=K(u),g((m=o((N=function(e){function o(){var o;return o=e.call(this,"AddHighScore")||this,t(o,"yourScoreNode",m,i(o)),t(o,"nameNode",v,i(o)),o._enterLock=!1,o.onKey=o.onKey.bind(i(o)),o}n(o,e);var r=o.prototype;return r.onEditingReturn=function(){this.onKey({keyCode:s.ENTER})},r.onLoad=function(){this.nameNode.on("editing-return",this.onEditingReturn,this)},r.onEnable=function(){a.on(d.EventType.KEY_DOWN,this.onKey),this.yourScoreNode.getComponent(l).string="Your score: "+y.scores.score},r.update=function(e){},r.onKey=function(e){var o=this;if(e.keyCode===s.ENTER){if(this._enterLock)return;y.isHighScore(y.scores.score)&&y.addHighScore(this.nameNode.getComponent(p).string),this._enterLock=!0,f.loadScene("Scene6",(function(){o._enterLock=!1}))}},r.onDisable=function(){a.off(d.EventType.KEY_DOWN,this.onKey)},o}(h)).prototype,"yourScoreNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=o(N.prototype,"nameNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=N))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/AtlasAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,r=t.EventTarget}],execute:function(){i._RF.push({},"d93bbDtNANBDre45GrL+jv5","AtlasAnimation",void 0);t("AtlasAnimation",function(t){function i(e,i,r,n){var s;return(s=t.call(this)||this)._playing=void 0,s._currentIndex=void 0,s._currentFrame=void 0,s._frames=void 0,s._atlas=void 0,s._sprite=void 0,s._deltaFrame=void 0,s._loop=void 0,s.reset(e,i,r,null!=n&&n),s}e(i,t);var r=i.prototype;return r.reset=function(t,e,i,r){this._atlas=t,this._frames=t?t.getSpriteFrames():[],this._sprite=e,this._deltaFrame=i,this._loop=r,this._playing=!1,this._currentIndex=-1,this._currentFrame=-1},r.play=function(t){this._playing=!0,this._currentIndex=0,this._currentFrame=0,t&&(this._sprite.spriteFrame=this._frames[this._currentIndex],this._currentIndex++),this.emit("begin")},r.stop=function(){this._playing&&(this._playing=!1,this._currentFrame=-1,this._currentIndex=-1,this.emit("end"))},r.update=function(){if(this._playing){if(this._currentIndex>=0&&this._currentIndex<this._frames.length)return this._currentFrame%this._deltaFrame==0&&(this._sprite.spriteFrame=this._frames[this._currentIndex],this._currentIndex++,this._loop&&this._currentIndex>=this._frames.length&&(this._currentIndex=0)),this._currentFrame=(this._currentFrame+1)%this._deltaFrame,!0;this.stop()}return!1},r.setCurrentIndex=function(t){this._currentIndex=t},r.getAtlas=function(){return this._atlas},r.setAtlas=function(t){this._atlas=t,this._frames=t.getSpriteFrames(),this._loop&&this._currentIndex>=this._frames.length&&(this._currentIndex=0)},r.setDeltaFrame=function(t){this._deltaFrame=t},r.setLoop=function(t){this._loop=t},r.isPlaying=function(){return this._playing},i}(r));i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./reactivity.ts"],(function(o){var t,e,u,a,n,i,s,r,c,d;return{setters:[function(o){t=o.createClass},function(o){e=o.cclegacy,u=o.AudioClip,a=o.resources,n=o.Node,i=o.director,s=o.AudioSource},function(o){r=o.globalData},function(o){c=o.effect,d=o.effectScope}],execute:function(){e._RF.push({},"0ffbdUOu4NATKJ3+WQiNu6F","AudioManager",void 0);var l=c,S=d;o("SoundEffect",function(o){return o.EatDot="Data/Sounds/EatDot",o.Death="Data/Sounds/Death",o.LevelComplete="Data/Sounds/LevelComplete",o.RedBallEaten="Data/Sounds/RedBallEaten",o.Victim="Data/Sounds/Victim",o.WaveTest="Data/Sounds/WaveTest",o.GameComplete="Data/Sounds/GameComplete",o.BonusLife="Data/Sounds/BonusLife",o.BonusSlow="Data/Sounds/BonusSlow",o.BonusKeyboard="Data/Sounds/BonusKeyboard",o.BonusKillAll="Data/Sounds/BonusKillAll",o.BonusKill="Data/Sounds/BonusKill",o.BonusDouble="Data/Sounds/BonusDouble",o.BonusKey="Data/Sounds/BonusKey",o.BonusMoney="Data/Sounds/BonusMoney",o.GameStart="Data/Sounds/GameStart",o.HighScore="Data/Sounds/HighScore",o.GameOver="Data/Sounds/GameOver",o.PleaseRegister="Data/Sounds/PleaseRegister",o.Button="Data/Sounds/Button",o.PushButton="Data/Sounds/PushButton",o}({}));o("AudioManager",function(){function o(){var o=this;this._audioSource=void 0,this._scope=void 0;var t=new n;t.name="__audioManager__",i.getScene().addChild(t),i.addPersistRootNode(t),this._audioSource=t.addComponent(s),this._audioSource.loop=!0,this._scope=S(),this._scope.run((function(){l((function(){o._audioSource.volume=r.options.state.options.musicVolume/10}))}))}var e=o.prototype;return e.playOneShot=function(o){var t=this;o instanceof u?this._audioSource.playOneShot(o,r.options.state.options.waveVolume/10/this._audioSource.volume):a.load(o,(function(o,e){o?console.error(o):t._audioSource.playOneShot(e,r.options.state.options.waveVolume/10/t._audioSource.volume)}))},e.play=function(o){var t=this;o instanceof u?(this._audioSource.clip=o,this._audioSource.play()):a.load(o,(function(o,e){o?console.error(o):(t._audioSource.clip=e,t._audioSource.play())}))},e.stop=function(){this._audioSource.stop(),this._audioSource.clip=null},e.pause=function(){this._audioSource.pause()},e.resume=function(){this._audioSource.play()},t(o,[{key:"audioSource",get:function(){return this._audioSource}}],[{key:"inst",get:function(){return null==this._inst&&(this._inst=new o),this._inst}}]),o}())._inst=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/Blink.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,l,o,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Component}],execute:function(){var c,s,u;l._RF.push({},"6f6c9e42rJCV4jKmJKb78x5","Blink",void 0);var p=o.ccclass,h=o.property;e("Blink",p("Blink")((u=t((s=function(e){function t(){var t;return t=e.call(this,"Blink")||this,n(t,"interval",u,r(t)),t.timer=0,t.onScheduleCallback=t.onScheduleCallback.bind(r(t)),t}i(t,e);var l=t.prototype;return l.start=function(){this.timer=setInterval(this.onScheduleCallback,1e3*this.interval)},l.update=function(e){},l.onScheduleCallback=function(){this.node.active=!this.node.active},l.onDestroy=function(){clearInterval(this.timer)},t}(a)).prototype,"interval",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),c=s))||c);l._RF.pop()}}}));

System.register("chunks:///_virtual/BonusLife.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AtlasAnimation.ts","./AudioManager.ts"],(function(t){var n,i,e,o,a,s,r,u,c,l,p,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.SpriteAtlas,u=t.Sprite,c=t.Component},function(t){l=t.AtlasAnimation},function(t){p=t.AudioManager,f=t.SoundEffect}],execute:function(){var h,d,m,g,y;a._RF.push({},"36dcaQdNMNEV43Xh8Vb/9r+","BonusLife",void 0);var A=s.ccclass,v=s.property;t("BonusLife",(h=A("BonusLife"),d=v(r),h((y=n((g=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,e(n,"bonusAtlas",y,o(n)),n.animation=void 0,n.got=void 0,n}i(n,t);var a=n.prototype;return a.start=function(){var t=this.node.getComponent(u);this.animation=new l(t.spriteAtlas,t,4,!0),this.animation.play()},a.eaten=function(){var t=this;this.got||(this.got=!0,p.inst.playOneShot(f.BonusLife),this.node.emit("eat",{message:"Extra life"}),this.animation.reset(this.bonusAtlas,this.node.getComponent(u),4,!1),this.animation.once("end",(function(){t.node.emit("eaten"),t.node.destroy()})),this.animation.play())},a.update=function(t){this.animation.update()},n}(c)).prototype,"bonusAtlas",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/BonusMoney.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AtlasAnimation.ts","./AudioManager.ts"],(function(t){var n,e,o,i,a,r,s,u,c,l,p,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.SpriteAtlas,u=t.Sprite,c=t.Component},function(t){l=t.AtlasAnimation},function(t){p=t.AudioManager,h=t.SoundEffect}],execute:function(){var f,d,m,y,g,b;a._RF.push({},"76c121NPhtPVKnDsfWmHaK3","BonusMoney",void 0);var A=r.ccclass,v=r.property;t("BonusMoney",(f=A("BonusMoney"),d=v(s),f((g=n((y=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,o(n,"bonusScore",g,i(n)),o(n,"bonusAtlas",b,i(n)),n.animation=void 0,n.got=void 0,n}e(n,t);var a=n.prototype;return a.start=function(){var t=this.node.getComponent(u);this.animation=new l(t.spriteAtlas,t,4,!0),this.animation.play()},a.eaten=function(){var t=this;this.got||(this.got=!0,p.inst.playOneShot(h.BonusMoney),this.node.emit("eat",{score:this.bonusScore,message:"Extra score"}),this.animation.reset(this.bonusAtlas,this.node.getComponent(u),4,!1),this.animation.once("end",(function(){t.node.emit("eaten"),t.node.destroy()})),this.animation.play())},a.update=function(t){this.animation.update()},n}(c)).prototype,"bonusScore",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e4}}),b=n(y.prototype,"bonusAtlas",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/Boss.ts",["./rollupPluginModLoBabelHelpers.js","cc","./common.ts","./AtlasAnimation.ts","./level.ts"],(function(t){var i,e,n,o,r,s,a,p,h,l,c,u,v,g,m,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.SpriteAtlas,p=t.Sprite,h=t.assert,l=t.Component},function(t){c=t.Direction,u=t.isInBlockCenter,v=t.canMove},function(t){g=t.AtlasAnimation},function(t){m=t.convertToBlockXY,d=t.astarFind}],execute:function(){var f,_,D,y,A,P,b,w,x,M,R,L,B;r._RF.push({},"40c53BB5PxBOaAZ2QrL26zy","Boss",void 0);var U=s.ccclass,z=s.property;t("Boss",(f=U("Boss"),_=z(a),D=z(a),y=z(a),A=z(a),P=z(a),f((x=i((w=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(i,"appearence",x,o(i)),n(i,"pUp",M,o(i)),n(i,"pRight",R,o(i)),n(i,"pDown",L,o(i)),n(i,"pLeft",B,o(i)),i.sprite=void 0,i._appearenceAnimation=void 0,i._movingDirection=c.None,i._movingAnimation=void 0,i.levelInfo=void 0,i.speed=8,i.isApearencing=!0,i}e(i,t);var r=i.prototype;return r.start=function(){var t=this;this.sprite=this.node.getComponent(p),this._appearenceAnimation=new g(this.appearence,this.sprite,6),this._appearenceAnimation.once("end",(function(){var i=t.node.parent.parent;t.node.removeFromParent(),t.node.setParent(i.getChildByName("Monster")),t.isApearencing=!1,t.node.emit("movable"),t._getRandomDirection(t.node.position,t.node.worldPosition)})),this._appearenceAnimation.play(),this._movingAnimation=new g(this.pUp,this.sprite,2,!0),this._movingAnimation.play()},r.update=function(t){if(!this._appearenceAnimation.update()){var i=this.node.getPosition(),e=this.node.getWorldPosition();if(u(i)){var n=this._getPlayer();if(n){var o=m(i),r=m(n.node.getPosition()),s=d(this.levelInfo,o,r);if(0===s.path.length)this._movingDirection=-this._movingDirection,this._updateMoveAtlas();else if(s.path.length<6){var a=s.path[0];a&&(a.x===o.x?this._movingDirection=a.y-o.y>0?c.Down:c.Up:this._movingDirection=a.x-o.x>0?c.Right:c.Left,this._updateMoveAtlas())}}}this._doMove(i,e)}},r._doMove=function(t,i){var e=!1;do{(e=this._move(t,i))||this._getNextDirection(t,i)}while(!e);this._movingAnimation.update()},r._updateMoveAtlas=function(){this._movingDirection===c.Up?this._movingAnimation.setAtlas(this.pUp):this._movingDirection===c.Right?this._movingAnimation.setAtlas(this.pRight):this._movingDirection===c.Down?this._movingAnimation.setAtlas(this.pDown):this._movingDirection===c.Left&&this._movingAnimation.setAtlas(this.pLeft)},r.setLevelInfo=function(t){this.levelInfo=t},r._getPlayer=function(){return this.node.parent.parent.getComponent("LevelManager").getMainPlayer()},r._move=function(t,i){var e=v(this._movingDirection,t,i),n=e.result,o=e.shouldRepeat;return n?(this._movingDirection===c.Up?o?this.node.setPosition(t.x,t.y-512):this.node.setPosition(t.x,t.y+this.speed):this._movingDirection===c.Right?o?this.node.setPosition(t.x-512,t.y):this.node.setPosition(t.x+this.speed,t.y):this._movingDirection===c.Down?o?this.node.setPosition(t.x,t.y+512):this.node.setPosition(t.x,t.y-this.speed):this._movingDirection===c.Left&&(o?this.node.setPosition(t.x+512,t.y):this.node.setPosition(t.x-this.speed,t.y)),n):n},r._getRandomDirection=function(t,i){var e=[c.Up,c.Right,c.Down,c.Left].filter((function(e){var n=v(e,t,i),o=n.result,r=n.shouldRepeat;return o||r})),n=e[Math.floor(Math.random()*e.length)];return this._movingDirection=n,this._updateMoveAtlas(),n},r._getNextDirection=function(t,i){var e=this._getPlayer();if(!e)return this._getRandomDirection(t,i);var n=e.node.getPosition(),o=n.x-t.x,r=n.y-t.y,s=Array(4);Math.abs(o)>Math.abs(r)?(s[0]=o>0?c.Right:c.Left,s[1]=r>0?c.Up:c.Down,s[2]=-s[1],s[3]=-s[0]):(s[0]=r>0?c.Up:c.Down,s[1]=o>0?c.Right:c.Left,s[2]=-s[1],s[3]=-s[0]);for(var a=0;a<4;++a){var p=s[a];if(p!==this._movingDirection&&v(p,t,i).result)return this._movingDirection=p,this._updateMoveAtlas(),p}h(!1,"Boss direction error")},i}(l)).prototype,"appearence",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(w.prototype,"pUp",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(w.prototype,"pRight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(w.prototype,"pDown",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(w.prototype,"pLeft",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=w))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/common.ts",["cc"],(function(e){var t,n,r,i,o,c;return{setters:[function(e){t=e.cclegacy,n=e.KeyCode,r=e.math,i=e.PhysicsSystem2D,o=e.resources,c=e.BufferAsset}],execute:function(){e({canMove:function(e,t,n,o){var c=void 0,u=!1;if(e===a.Up){var s=new r.Rect(n.x-15,n.y+15,30,2);c=i.instance.testAABB(s),u=t.y>=-16}else if(e===a.Right){var f=new r.Rect(n.x+15,n.y-15,2,30);c=i.instance.testAABB(f),u=t.x>=528}else if(e===a.Down){var l=new r.Rect(n.x-15,n.y-17,30,2);c=i.instance.testAABB(l),u=t.y<=-528}else if(e===a.Left){var y=new r.Rect(n.x-17,n.y-15,2,30);c=i.instance.testAABB(y),u=t.x<=16}return{result:void 0!==c&&!c.some((function(e){return 1===e.tag})),eating:!!o&&(void 0!==c&&c.some((function(e){return 2===e.tag}))),eatingRedBall:!!o&&(void 0!==c&&c.some((function(e){return 2.2===e.tag}))),eatingBonus:!!o&&(void 0!==c&&c.some((function(e){if(3===e.tag){var t=e.node.getComponent("Enemy");return!(t.ate||!t.isVictim)&&(t.ate=!0,!0)}return 2.3===e.tag||2.4===e.tag}))),shouldRepeat:u}},getAtlasIndex:function(e,t,n){if(e===a.Up)return s[-(n+16)%32];if(e===a.Right)return u[(t-16)%32];if(e===a.Down)return u[-(n+16)%32];if(e===a.Left)return s[(t-16)%32];return-1},isInBlockCenter:function(e){return(e.x-16)%32==0&&(e.y-16)%32==0},keyCodeToDirection:function(e){switch(e){case n.ARROW_UP:return a.Up;case n.ARROW_RIGHT:return a.Right;case n.ARROW_DOWN:return a.Down;case n.ARROW_LEFT:return a.Left}},loadBufferAsset:function(e){return new Promise((function(t,n){o.load(e,(function(e,r){e?n(e):fetch(r.toString()).then((function(e){return e.arrayBuffer()})).then((function(e){var n=new c;Object.assign(n,r),n._nativeUrl=r.nativeUrl,n._nativeAsset=e,n._uuid=r.uuid,t(n)})).catch(n)}))}))}}),t._RF.push({},"9c787cqBYxGJIGY5qZPmXNy","common",void 0);var a=e("Direction",function(e){return e[e.Left=-1]="Left",e[e.Up=2]="Up",e[e.None=0]="None",e[e.Right=1]="Right",e[e.Down=-2]="Down",e}({}));var u=[].concat(Array(8).fill(1),Array(8).fill(2),Array(8).fill(3),Array(8).fill(0)),s=[].concat(Array(8).fill(1),Array(8).fill(0),Array(8).fill(3),Array(8).fill(2));t._RF.pop()}}}));

System.register("chunks:///_virtual/Control.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelManager.ts"],(function(e){var n,t,o,r,i,l,u,a,c,p,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,u=e.Node,a=e.Input,c=e.KeyCode,p=e.Component},function(e){y=e.default}],execute:function(){var f,s,T,R,d,C,b,h,_,g,A,E,O,v,w,K,k;i._RF.push({},"6b1efgP2DdKr7aV1cznDh7e","Control",void 0);var D=l.ccclass,m=l.property;e("Control",(f=D("Control"),s=m(u),T=m(u),R=m(u),d=m(u),C=m(u),b=m(u),h=m(u),f((A=n((g=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];return n=e.call.apply(e,[this].concat(i))||this,o(n,"esc",A,r(n)),o(n,"enter",E,r(n)),o(n,"up",O,r(n)),o(n,"down",v,r(n)),o(n,"left",w,r(n)),o(n,"right",K,r(n)),o(n,"area",k,r(n)),n}t(n,e);var i=n.prototype;return i.onLoad=function(){var e=this.area.getComponent(y);this.esc.on(a.EventType.TOUCH_START,(function(){e.onKey({keyCode:c.ESCAPE})})),this.enter.on(a.EventType.TOUCH_START,(function(){e.onKey({keyCode:c.ENTER})})),this.up.on(a.EventType.TOUCH_START,(function(){e.players.forEach((function(e){e.onKeyDown({keyCode:c.ARROW_UP})})),e.onKey({keyCode:c.ARROW_UP})})),this.down.on(a.EventType.TOUCH_START,(function(){e.players.forEach((function(e){e.onKeyDown({keyCode:c.ARROW_DOWN})})),e.onKey({keyCode:c.ARROW_DOWN})})),this.left.on(a.EventType.TOUCH_START,(function(){e.players.forEach((function(e){e.onKeyDown({keyCode:c.ARROW_LEFT})})),e.onKey({keyCode:c.ARROW_LEFT})})),this.right.on(a.EventType.TOUCH_START,(function(){e.players.forEach((function(e){e.onKeyDown({keyCode:c.ARROW_RIGHT})})),e.onKey({keyCode:c.ARROW_RIGHT})}))},i.start=function(){},i.update=function(e){},n}(p)).prototype,"esc",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(g.prototype,"enter",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(g.prototype,"up",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(g.prototype,"down",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(g.prototype,"left",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(g.prototype,"right",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(g.prototype,"area",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=g))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Dot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(t){var e,n,o,r,i,a,c,u,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,c=t.Component},function(t){u=t.AudioManager,s=t.SoundEffect}],execute:function(){var p,l,f;i._RF.push({},"21885vN2lhB2JcpbCparbBV","Dot",void 0);var d=a.ccclass,h=a.property;t("Dot",d("Dot")((f=e((l=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,o(e,"bonusScore",f,r(e)),e}n(e,t);var i=e.prototype;return i.start=function(){},i.eaten=function(){u.inst.playOneShot(s.EatDot),this.node.emit("eaten",this.bonusScore),this.node.destroy()},i.update=function(t){},e}(c)).prototype,"bonusScore",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),p=l))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/Enemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./common.ts","./AtlasAnimation.ts","./FrameCounter.ts","./AudioManager.ts"],(function(t){var i,e,n,o,r,s,a,u,c,h,m,l,p,v,f,d,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,a=t._decorator,u=t.SpriteAtlas,c=t.Sprite,h=t.assert,m=t.Component},function(t){l=t.Direction,p=t.canMove},function(t){v=t.AtlasAnimation},function(t){f=t.FrameCounter},function(t){d=t.AudioManager,g=t.SoundEffect}],execute:function(){var _,y,b,A,C,D,w,R,M,P,L,U,V,z,S,x,N,E,F,B,k,H,I,T;s._RF.push({},"cfc97ivswFHDIAmvvdSoXzG","Enemy",void 0);var j=a.ccclass,G=a.property;t("Enemy",(_=j("Enemy"),y=G(u),b=G(u),A=G(u),C=G(u),D=G(u),w=G(u),R=G(u),M=G(u),P=G(u),L=G(u),_((z=i((V=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(i,"appearence",z,o(i)),n(i,"pUp",S,o(i)),n(i,"pRight",x,o(i)),n(i,"pDown",N,o(i)),n(i,"pLeft",E,o(i)),n(i,"vUp",F,o(i)),n(i,"vRight",B,o(i)),n(i,"vDown",k,o(i)),n(i,"vLeft",H,o(i)),n(i,"death",I,o(i)),n(i,"bonusScore",T,o(i)),i.dead=!1,i.ate=!1,i.frameCounter=new f,i.sprite=void 0,i._appearenceAnimation=void 0,i._movingDirection=l.None,i._movingAnimation=void 0,i.speed=8,i.isApearencing=!0,i.victimCounter=null,i.victimResumeCounter=null,i._forceNotVictim=!1,i}e(i,t);var s=i.prototype;return s.die=function(){var t=this;this.dead||(d.inst.playOneShot(g.Victim),this.node.emit("die",this.bonusScore),this.dead=!0,this._movingDirection=l.None,this._movingAnimation.reset(this.death,this.sprite,6,!1),this._movingAnimation.once("end",(function(){t.node.emit("dead")})),this._movingAnimation.play())},s.dispose=function(){this.victimCounter&&(this.victimCounter.clear(),this.victimCounter=null),this.victimResumeCounter&&(this.victimResumeCounter.clear(),this.victimResumeCounter=null),this.node.destroy()},s.start=function(){var t=this;this.sprite=this.node.getComponent(c),this._appearenceAnimation=new v(this.appearence,this.sprite,6),this._appearenceAnimation.once("end",(function(){var i=t.node.parent.parent;t.node.removeFromParent(),t.node.setParent(i.getChildByName("Monster")),t.isApearencing=!1,t.node.emit("movable"),t._getRandomDirection(t.node.position,t.node.worldPosition)})),this._appearenceAnimation.play(),this._movingAnimation=new v(this.pUp,this.sprite,2,!0),this._movingAnimation.play()},s.update=function(t){if(!this._appearenceAnimation.update()){var i=this.node.getPosition(),e=this.node.getWorldPosition();this._doMove(i,e),this.frameCounter.update()}},s._doMove=function(t,i){if(!this.dead){var e=!1;do{(e=this._move(t,i))||this._getNextDirection(t,i)}while(!e)}this._movingAnimation.update()},s._updateMoveAtlas=function(){this._movingDirection===l.Up?this._movingAnimation.setAtlas(this.isVictimSprite?this.vUp:this.pUp):this._movingDirection===l.Right?this._movingAnimation.setAtlas(this.isVictimSprite?this.vRight:this.pRight):this._movingDirection===l.Down?this._movingAnimation.setAtlas(this.isVictimSprite?this.vDown:this.pDown):this._movingDirection===l.Left&&this._movingAnimation.setAtlas(this.isVictimSprite?this.vLeft:this.pLeft)},s._getReverseAtlas=function(){switch(this._movingAnimation.getAtlas()){case this.pUp:return this.vUp;case this.pLeft:return this.vLeft;case this.pRight:return this.vRight;case this.pDown:return this.vDown;case this.vUp:return this.pUp;case this.vDown:return this.pDown;case this.vLeft:return this.pLeft;case this.vRight:return this.pRight;default:throw new Error("unreachable")}},s._getPlayer=function(){return this.node.parent.parent.getComponent("LevelManager").getMainPlayer()},s._move=function(t,i){var e=p(this._movingDirection,t,i),n=e.result,o=e.shouldRepeat;return n?(this._movingDirection===l.Up?o?this.node.setPosition(t.x,t.y-512):this.node.setPosition(t.x,t.y+this.speed):this._movingDirection===l.Right?o?this.node.setPosition(t.x-512,t.y):this.node.setPosition(t.x+this.speed,t.y):this._movingDirection===l.Down?o?this.node.setPosition(t.x,t.y+512):this.node.setPosition(t.x,t.y-this.speed):this._movingDirection===l.Left&&(o?this.node.setPosition(t.x+512,t.y):this.node.setPosition(t.x-this.speed,t.y)),n):n},s._getRandomDirection=function(t,i){var e=[l.Up,l.Right,l.Down,l.Left].filter((function(e){var n=p(e,t,i),o=n.result,r=n.shouldRepeat;return o||r})),n=e[Math.floor(Math.random()*e.length)];return this._movingDirection=n,this._updateMoveAtlas(),n},s._getNextDirection=function(t,i){var e=this._getPlayer();if(!e)return this._getRandomDirection(t,i);var n=e.node.getPosition(),o=n.x-t.x,r=n.y-t.y,s=Array(4);Math.abs(o)>Math.abs(r)?(s[0]=o>0?l.Right:l.Left,s[1]=r>0?l.Up:l.Down,s[2]=-s[1],s[3]=-s[0]):(s[0]=r>0?l.Up:l.Down,s[1]=o>0?l.Right:l.Left,s[2]=-s[1],s[3]=-s[0]),this.isVictim&&s.reverse();for(var a=0;a<4;++a){var u=s[a];if(u!==this._movingDirection&&p(u,t,i).result)return this._movingDirection=u,this._updateMoveAtlas(),u}h(!1,"Enemy direction error")},s.changeToVictim=function(){var t=this;if(!this.isApearencing&&!this.dead){var i=function(){t.victimCounter=null,t.victimResumeCounter=t.frameCounter.schedule((function(){t._forceNotVictim=!t._forceNotVictim,t._updateMoveAtlas()}),40,4),t.victimResumeCounter.promise.then((function(){t._forceNotVictim=!1,t.victimResumeCounter=null,t._updateMoveAtlas(),t.node.emit("resume")}))};this._forceNotVictim=!1,this.victimCounter||this.victimResumeCounter?this.victimCounter?(this.victimCounter.total=80,this.victimCounter.current=0):(this.victimResumeCounter.clear(),this.victimResumeCounter=null,this.victimCounter=this.frameCounter.after(80),this.victimCounter.promise.then(i)):(this.victimCounter=this.frameCounter.after(80),this.victimCounter.promise.then(i),this.node.emit("becomeVictim")),this._updateMoveAtlas()}},r(i,[{key:"isVictimSprite",get:function(){return Boolean(this.victimCounter||this.victimResumeCounter)&&!this._forceNotVictim}},{key:"isVictim",get:function(){return Boolean(this.victimCounter||this.victimResumeCounter)}}]),i}(m)).prototype,"appearence",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(V.prototype,"pUp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(V.prototype,"pRight",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(V.prototype,"pDown",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(V.prototype,"pLeft",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(V.prototype,"vUp",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(V.prototype,"vRight",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(V.prototype,"vDown",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(V.prototype,"vLeft",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(V.prototype,"death",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(V.prototype,"bonusScore",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),U=V))||U));s._RF.pop()}}}));

System.register("chunks:///_virtual/FrameCounter.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){function t(e,r,t,s){void 0===s&&(s=r);var n={total:r,max:s,current:0,type:e,callback:t};return n.promise=new Promise((function(e,r){n.resolve=e,n.reject=r})),n}r._RF.push({},"fe331bdkttMeY0BODOxgR6f","FrameCounter",void 0);e("FrameCounter",function(){function e(){this.resolvers=[]}var r=e.prototype;return r.update=function(){for(var e=0;e<this.resolvers.length;++e){var r=this.resolvers[e];if(0===r.type)r.current===r.total?(r.resolve(),this.resolvers.splice(this.resolvers.indexOf(r),1),--e):r.current++;else if(1===r.type){if(0===r.current){r.current=1;continue}r.current%r.total==0?(r.callback(),r.max>0&&r.current>=r.max?(r.resolve(),this.resolvers.splice(this.resolvers.indexOf(r),1),--e):r.max>0?r.current++:r.current=1):r.current++}else 2===r.type&&(r.__tmp_target||(r.__tmp_target=Math.round(Math.random()*(r.max-r.total))+r.total),r.current>=r.__tmp_target?(r.callback(),r.current=1,r.__tmp_target=Math.round(Math.random()*(r.max-r.total))+r.total):r.current++)}},r.after=function(e){var r=this,s=t(0,e);return s.clear=function(){r.resolvers.splice(r.resolvers.indexOf(s),1)},this.resolvers.push(s),s},r.schedule=function(e,r,s){var n=this,o=t(1,s,e,r);return o.clear=function(){n.resolvers.splice(n.resolvers.indexOf(o),1)},this.resolvers.push(o),o},r.scheduleRandom=function(e,r,s){var n=this,o=t(2,r,e,s);return o.clear=function(){n.resolvers.splice(n.resolvers.indexOf(o),1)},this.resolvers.push(o),o},r.clear=function(){this.resolvers.forEach((function(e){e.clear()})),this.resolvers.length=0},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/Game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelManager.ts"],(function(e){var t,n,r,a,o,l,i,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,i=e.Node,c=e.Component},function(e){u=e.default}],execute:function(){var s,p,d,f,v;o._RF.push({},"f9d1dTAmGRF6Kp/34XV5xE/","Game",void 0);var g=l.ccclass,m=l.property;e("Game",(s=g("Game"),p=m(i),s((v=t((f=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,r(t,"levelManagerNode",v,a(t)),t.levelManager=null,t}n(t,e);var o=t.prototype;return o.start=function(){this.levelManagerNode.getComponent(u).loadLevel(1)},o.update=function(e){},t}(c)).prototype,"levelManagerNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./AudioManager.ts"],(function(e){var n,o,t,c,i,r,s,u,a,f,h,l;return{setters:[function(e){n=e.inheritsLoose,o=e.assertThisInitialized},function(e){t=e.cclegacy,c=e._decorator,i=e.KeyCode,r=e.input,s=e.Input,u=e.director,a=e.Component},function(e){f=e.globalData},function(e){h=e.AudioManager,l=e.SoundEffect}],execute:function(){var p;t._RF.push({},"c422fvnoL1DY6/hJUbL9cms","GameOver",void 0);var y=c.ccclass;c.property,e("GameOver",y("GameOver")(p=function(e){function t(){var n;return(n=e.call(this,"GameOver")||this).onKey=n.onKey.bind(o(n)),n.onTouch=n.onTouch.bind(o(n)),n}n(t,e);var c=t.prototype;return c.onTouch=function(){this.onKey({keyCode:i.ENTER})},c.onEnable=function(){r.on(s.EventType.KEY_DOWN,this.onKey),r.on(s.EventType.TOUCH_START,this.onTouch)},c.onKey=function(e){switch(e.keyCode){case i.ENTER:f.isHighScore(f.scores.score)?u.loadScene("Scene9",(function(){h.inst.playOneShot(l.HighScore)})):u.loadScene("Scene2",(function(){f.resetScore()}))}},c.onDisable=function(){r.off(s.EventType.KEY_DOWN,this.onKey),r.off(s.EventType.TOUCH_START,this.onTouch)},c.start=function(){},c.update=function(e){},t}(a))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/Ghost.ts",["./rollupPluginModLoBabelHelpers.js","cc","./common.ts","./AtlasAnimation.ts"],(function(i){var t,e,n,o,s,r,a,p,h,c,l,u,m;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){s=i.cclegacy,r=i._decorator,a=i.SpriteAtlas,p=i.Sprite,h=i.Component},function(i){c=i.Direction,l=i.isInBlockCenter,u=i.canMove},function(i){m=i.AtlasAnimation}],execute:function(){var g,v,d,_,f,y,A,D,b,P,w,x,M;s._RF.push({},"6cff0MC1a5FDpzQxL4WEJ/0","Ghost",void 0);var L=r.ccclass,R=r.property;i("Ghost",(g=L("Ghost"),v=R(a),d=R(a),_=R(a),f=R(a),y=R(a),g((b=t((D=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=i.call.apply(i,[this].concat(s))||this,n(t,"appearence",b,o(t)),n(t,"pUp",P,o(t)),n(t,"pRight",w,o(t)),n(t,"pDown",x,o(t)),n(t,"pLeft",M,o(t)),t.sprite=void 0,t._appearenceAnimation=void 0,t._movingDirection=c.None,t._movingAnimation=void 0,t.speed=4,t.isApearencing=!0,t}e(t,i);var s=t.prototype;return s.start=function(){var i=this;this.sprite=this.node.getComponent(p),this._appearenceAnimation=new m(this.appearence,this.sprite,6),this._appearenceAnimation.once("end",(function(){var t=i.node.parent.parent;i.node.removeFromParent(),i.node.setParent(t.getChildByName("Monster")),i.isApearencing=!1,i.node.emit("movable"),i._getNextDirection(i.node.position,i.node.worldPosition)})),this._appearenceAnimation.play(),this._movingAnimation=new m(this.pUp,this.sprite,2,!0),this._movingAnimation.play()},s.update=function(i){if(!this._appearenceAnimation.update()){var t=this.node.getPosition(),e=this.node.getWorldPosition();l(t)&&this._getNextDirection(t,e),this._doMove(t,e)}},s._doMove=function(i,t){this._move(i,t),this._movingAnimation.update()},s._updateMoveAtlas=function(){this._movingDirection===c.Up?this._movingAnimation.setAtlas(this.pUp):this._movingDirection===c.Right?this._movingAnimation.setAtlas(this.pRight):this._movingDirection===c.Down?this._movingAnimation.setAtlas(this.pDown):this._movingDirection===c.Left&&this._movingAnimation.setAtlas(this.pLeft)},s._getPlayer=function(){return this.node.parent.parent.getComponent("LevelManager").getMainPlayer()},s._move=function(i,t){var e=u(this._movingDirection,i,t).shouldRepeat;return this._movingDirection===c.Up?e?this.node.setPosition(i.x,i.y-512):this.node.setPosition(i.x,i.y+this.speed):this._movingDirection===c.Right?e?this.node.setPosition(i.x-512,i.y):this.node.setPosition(i.x+this.speed,i.y):this._movingDirection===c.Down?e?this.node.setPosition(i.x,i.y+512):this.node.setPosition(i.x,i.y-this.speed):this._movingDirection===c.Left&&(e?this.node.setPosition(i.x+512,i.y):this.node.setPosition(i.x-this.speed,i.y)),!0},s._getNextDirection=function(i,t){var e=this._getPlayer();if(e){var n,o=e.node.getPosition(),s=o.x-i.x,r=o.y-i.y,a=Math.abs(s);n=a>Math.abs(r)?s<0?c.Left:c.Right:0===a&&0===r?-this._movingDirection:r<0?c.Down:c.Up,this._movingDirection=n,this._updateMoveAtlas()}},t}(h)).prototype,"appearence",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(D.prototype,"pUp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(D.prototype,"pRight",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(D.prototype,"pDown",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"pLeft",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=D))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/help.ts",["cc","./reactivity.ts"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.reactive}],execute:function(){e._RF.push({},"32eadwju11N4I8TojY5yWCX","help",void 0);var s=i,n=t("HelpItem",function(t){return t.OVERVIEW="GameOverview",t.RULES="GameRules",t.INTERFACE="InterfaceNotes",t.ABOUT="AboutAlawar",t.CREDITS="Credits",t.RETURN="Return",t}({}));t("HelpModel",function(){function t(){this.items=[n.OVERVIEW,n.RULES,n.INTERFACE,n.ABOUT,n.CREDITS,n.RETURN],this.state=s({currentItem:n.OVERVIEW})}var e=t.prototype;return e.next=function(){this.state.currentItem=this.items[(this.items.indexOf(this.state.currentItem)+1)%this.items.length]},e.prev=function(){this.state.currentItem=this.items[(this.items.indexOf(this.state.currentItem)-1+this.items.length)%this.items.length]},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Help2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./help.ts","./reactivity.ts","./AudioManager.ts"],(function(e){var t,n,o,i,r,s,u,c,a,l,h,p,T,d,f,N,v,y,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,u=e.Node,c=e.director,a=e.input,l=e.Input,h=e.Sprite,p=e.KeyCode,T=e.Component},function(e){d=e.globalData},function(e){f=e.HelpItem},function(e){N=e.effect,v=e.effectScope},function(e){y=e.AudioManager,b=e.SoundEffect}],execute:function(){var E,S,R,m,O,A,_,g,H,C,I,U,w,z,D,K,F;r._RF.push({},"b4a8bIl/AtLXa5I4KqXL88T","Help",void 0);var W=s.ccclass,B=s.property,L=N,P=v;e("Help",(E=W("Help"),S=B(u),R=B(u),m=B(u),O=B(u),A=B(u),_=B(u),g=B(u),E((I=t((C=function(e){function t(){var t;return t=e.call(this,"Help")||this,o(t,"overviewNode",I,i(t)),o(t,"rulesNode",U,i(t)),o(t,"interfaceNode",w,i(t)),o(t,"aboutNode",z,i(t)),o(t,"creditsNode",D,i(t)),o(t,"returnsNode",K,i(t)),o(t,"screenNode",F,i(t)),t.scope=void 0,t.onKey=t.onKey.bind(i(t)),t.onTouch=t.onTouch.bind(i(t)),t}n(t,e);var r=t.prototype;return r.onTouch=function(e){y.inst.playOneShot(b.PushButton);var t=e.target;t===this.overviewNode?d.help.state.currentItem=f.OVERVIEW:t===this.rulesNode?d.help.state.currentItem=f.RULES:t===this.interfaceNode?d.help.state.currentItem=f.INTERFACE:t===this.aboutNode?d.help.state.currentItem=f.ABOUT:t===this.creditsNode?d.help.state.currentItem=f.CREDITS:t===this.returnsNode&&c.loadScene("Scene2")},r.onEnable=function(){var e=this;a.on(l.EventType.KEY_DOWN,this.onKey),this.overviewNode.on(l.EventType.TOUCH_START,this.onTouch),this.rulesNode.on(l.EventType.TOUCH_START,this.onTouch),this.interfaceNode.on(l.EventType.TOUCH_START,this.onTouch),this.aboutNode.on(l.EventType.TOUCH_START,this.onTouch),this.creditsNode.on(l.EventType.TOUCH_START,this.onTouch),this.returnsNode.on(l.EventType.TOUCH_START,this.onTouch),d.help.state.currentItem=f.OVERVIEW,this.scope=P(),this.scope.run((function(){L((function(){e.render()}),{scheduler:function(){e.render()}})}))},r.start=function(){},r.render=function(){for(var e=d.help.state.currentItem,t=[this.overviewNode,this.rulesNode,this.interfaceNode,this.aboutNode,this.creditsNode,this.returnsNode],n=0;n<t.length;n++){var o=t[n],i=o.getComponent(h);o.name===e?i.spriteFrame=i.spriteAtlas.getSpriteFrames()[1]:i.spriteFrame=i.spriteAtlas.getSpriteFrames()[0]}for(var r=this.screenNode.children,s=0;s<r.length;++s){var u=r[s];u.name===e?u.active=!0:u.active=!1}},r.onEnter=function(e){switch(e){case f.RETURN:c.loadScene("Scene2")}},r.update=function(e){},r.onKey=function(e){switch(e.keyCode){case p.ARROW_UP:y.inst.playOneShot(b.Button),d.help.prev();break;case p.ARROW_DOWN:y.inst.playOneShot(b.Button),d.help.next();break;case p.ENTER:y.inst.playOneShot(b.PushButton),this.onEnter(d.help.state.currentItem)}},r.onDisable=function(){this.scope&&(this.scope.stop(),this.scope=null),this.overviewNode.off(l.EventType.TOUCH_START,this.onTouch),this.rulesNode.off(l.EventType.TOUCH_START,this.onTouch),this.interfaceNode.off(l.EventType.TOUCH_START,this.onTouch),this.aboutNode.off(l.EventType.TOUCH_START,this.onTouch),this.creditsNode.off(l.EventType.TOUCH_START,this.onTouch),this.returnsNode.off(l.EventType.TOUCH_START,this.onTouch),a.off(l.EventType.KEY_DOWN,this.onKey)},t}(T)).prototype,"overviewNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(C.prototype,"rulesNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(C.prototype,"interfaceNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(C.prototype,"aboutNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(C.prototype,"creditsNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(C.prototype,"returnsNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(C.prototype,"screenNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=C))||H));r._RF.pop()}}}));

System.register("chunks:///_virtual/HighScores.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./AudioManager.ts"],(function(e){var n,t,o,i,r,a,s,u,c,l,h,d,p,g,f,y,N,T;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,u=e.Prefab,c=e.input,l=e.Input,h=e.instantiate,d=e.Label,p=e.KeyCode,g=e.director,f=e.Component},function(e){y=e.globalData},function(e){N=e.AudioManager,T=e.SoundEffect}],execute:function(){var S,b,m,v,C,E,K,k,H;r._RF.push({},"c6800QWZ0dNTohsJlndXYix","HighScores",void 0);var L=a.ccclass,_=a.property;e("HighScores",(S=L("HighScores"),b=_(s),m=_(s),v=_(u),S((K=n((E=function(e){function n(){var n;return n=e.call(this,"HighScores")||this,o(n,"rankListNode",K,i(n)),o(n,"returnNode",k,i(n)),o(n,"row",H,i(n)),n.onKey=n.onKey.bind(i(n)),n.onTouch=n.onTouch.bind(i(n)),n}t(n,e);var r=n.prototype;return r.onEnable=function(){c.on(l.EventType.KEY_DOWN,this.onKey),this.returnNode.on(l.EventType.TOUCH_START,this.onTouch),this.render()},r.update=function(e){},r.render=function(){this.rankListNode.removeAllChildren();for(var e=y.ranking,n=0;n<e.length;++n){var t=e[n],o=h(this.row);o.setParent(this.rankListNode),o.getChildByName("Name").getComponent(d).string=t.name,o.getChildByName("Score").getComponent(d).string=String(t.score),o.getChildByName("Monsters").getComponent(d).string=String(t.monsters),o.getChildByName("Level").getComponent(d).string=String(t.level)}},r.onKey=function(e){e.keyCode===p.ENTER&&(N.inst.playOneShot(T.PushButton),g.loadScene("Scene2",(function(){y.resetScore()})))},r.onTouch=function(){N.inst.playOneShot(T.PushButton),this.onKey({keyCode:p.ENTER})},r.onDisable=function(){c.off(l.EventType.KEY_DOWN,this.onKey),this.returnNode.off(l.EventType.TOUCH_START,this.onTouch)},n}(f)).prototype,"rankListNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(E.prototype,"returnNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(E.prototype,"row",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=E))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./menu.ts","./help.ts","./options.ts","./reactivity.ts"],(function(e){var s,t,n,i,o,r,c;return{setters:[function(e){s=e.cclegacy,t=e.sys},function(e){n=e.MenuModel},function(e){i=e.HelpModel},function(e){o=e.OptionsModel},function(e){r=e.shallowReactive,c=e.reactive}],execute:function(){s._RF.push({},"5c446A5IGJFHIIHcE06v+EW","index",void 0);var l=r,a=c,h="pacman_high_scores";e("globalData",new(function(){function e(){this.menu=new n,this.help=new i,this.options=new o,this.scores=l({levelInfo:null,level:0,score:0,monsters:0,bonuses:0}),this.ranking=void 0;var e=t.localStorage.getItem(h);e?e=JSON.parse(e):(e=[],t.localStorage.setItem(h,JSON.stringify(e))),this.ranking=a(e)}var s=e.prototype;return s.resetScore=function(){this.scores.levelInfo=null,this.scores.level=0,this.scores.score=0,this.scores.monsters=0,this.scores.bonuses=0},s.isHighScore=function(e){return this.ranking.length<7||e>this.ranking.reduce((function(e,s){return Math.min(s.score,e)}),1/0)},s.addHighScore=function(e){this.ranking.push({name:e,score:this.scores.score,monsters:this.scores.monsters,level:this.scores.level}),this.ranking.sort(),this.ranking.length>7&&this.ranking.splice(0,1),t.localStorage.setItem(h,JSON.stringify(this.ranking))},e}()));s._RF.pop()}}}));

System.register("chunks:///_virtual/Intro.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(e){var n,t,o,i,r,c,u,a,s,l,p,d,f,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,u=e.Node,a=e.input,s=e.Input,l=e.director,p=e.KeyCode,d=e.Component},function(e){f=e.AudioManager,y=e.SoundEffect}],execute:function(){var h,S,T,E,v;r._RF.push({},"9b1a8QPZD9EY4YijT7P8bIF","Intro",void 0);var b=c.ccclass,I=c.property;e("Intro",(h=b("Intro"),S=I(u),h((v=n((E=function(e){function n(){var n;return n=e.call(this,"Intro")||this,o(n,"introNode",v,i(n)),n.onKey=n.onKey.bind(i(n)),n.toMenu=n.toMenu.bind(i(n)),n}t(n,e);var r=n.prototype;return r.onEnable=function(){a.on(s.EventType.KEY_DOWN,this.onKey),this.introNode.on(s.EventType.TOUCH_START,this.toMenu)},r.start=function(){f.inst.playOneShot(y.GameStart),l.preloadScene("Scene3")},r.update=function(e){},r.toMenu=function(){l.loadScene("Scene2")},r.onKey=function(e){switch(e.keyCode){case p.SPACE:case p.ENTER:l.loadScene("Scene2")}},r.onDisable=function(){this.introNode.off(s.EventType.TOUCH_START,this.toMenu),a.off(s.EventType.KEY_DOWN,this.onKey)},n}(d)).prototype,"introNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=E))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/level.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BinaryHeap.mjs"],(function(r){var e,t,a,n;return{setters:[function(r){e=r.createForOfIteratorHelperLoose},function(r){t=r.cclegacy,a=r.v3},function(r){n=r.default}],execute:function(){r({astarFind:function(r,t,a){var s=new n({comparator:function(r,e){return-function(r,e){return r>e?1:r<e?-1:0}(r.priority,e.priority)}});s.push({block:t,priority:0});var c=new Map,p=new Map,l=u(t);c.set(l,NaN),p.set(l,0);var y=function(e){var t=[];return e.y>0&&"B"!==r.Map[e.y-1][e.x]&&t.push({x:e.x,y:e.y-1}),e.x>0&&"B"!==r.Map[e.y][e.x-1]&&t.push({x:e.x-1,y:e.y}),e.y<16&&"B"!==r.Map[e.y+1][e.x]&&t.push({x:e.x,y:e.y+1}),e.x<16&&"B"!==r.Map[e.y][e.x+1]&&t.push({x:e.x+1,y:e.y}),t};for(;!s.isEmpty();){var f=s.pop();if(f.block.x===a.x&&f.block.y===a.y)break;for(var v,x=e(y(f.block));!(v=x()).done;){var h=v.value,M=u(f.block),b=(p.get(M)||0)+1,m=u(h);if(!p.has(m)||b<(p.get(m)||0)){p.set(m,b);var k=b+o(a,h);s.push({block:h,priority:k}),c.set(m,M)}}}var N=a,d=[];for(;N.x!==t.x||N.y!==t.y;){d.push(N);var B=c.get(u(N));if(!B||Number.isNaN(B))break;N=i(B)}return d.reverse(),{came_from:c,cost_so_far:p,path:d}},convertToBlockXY:function(r){return{x:Math.round(Math.round(r.x-16)/32),y:Math.round(Math.round(-16-r.y)/32)}},convertToPosition:function(r,e){return a(16+32*e,-16-32*r,0)},parseLevel:function(r){for(var t,a=r.split(/\r?\n/),n={General:{},Map:[]},o="",u=e(a);!(t=u()).done;){var i=t.value;if((i=i.trim())&&!i.startsWith(";")){var s=i.match(/\[(.*)\]/);if(s)o=s[1];else if("General"===o){var c=i.split("="),p=c[0],l=c[1];l=l.trim(),Number.isNaN(Number(l))?n.General[p.trim()]=l:n.General[p.trim()]=Number(l)}else"Map"===o&&n.Map.push(i.split(""))}}return n}}),t._RF.push({},"9e5a3ey5ExGkZDOhzNvD6Mc","level",void 0);var o=function(r,e){return Math.abs(e.x-r.x)+Math.abs(e.y-r.y)},u=function(r){return 100*r.x+r.y},i=function(r){return{x:Math.floor(r/100),y:r%100}};t._RF.pop()}}}));

System.register("chunks:///_virtual/LevelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./level.ts","./FrameCounter.ts","./reactivity.ts","./index.ts","./AudioManager.ts"],(function(e){var t,n,o,s,r,i,a,l,u,c,h,f,m,p,d,g,y,v,b,C,P,N,L,B,E,M,I,D,G;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,s=e.assertThisInitialized,r=e.createClass},function(e){i=e.cclegacy,a=e._decorator,l=e.Prefab,u=e.Node,c=e.input,h=e.Input,f=e.KeyCode,m=e.director,p=e.Label,d=e.instantiate,g=e.isValid,y=e.resources,v=e.TextAsset,b=e.Component,C=e.PhysicsSystem2D,P=e.math},function(e){N=e.convertToPosition,L=e.parseLevel},function(e){B=e.FrameCounter},function(e){E=e.effect,M=e.effectScope},function(e){I=e.globalData},function(e){D=e.AudioManager,G=e.SoundEffect}],execute:function(){var w,z,S,A,x,_,k,R,U,K,O,W,Y,T,F,V,X,j,H,J,Z,q,Q,$,ee,te,ne,oe,se,re,ie,ae,le,ue,ce;i._RF.push({},"d4669clJ0tIuIzjx7aUZ66d","LevelManager",void 0);var he=E,fe=M,me=a.ccclass,pe=a.property;e("default",(w=me("LevelManager"),z=pe(l),S=pe(l),A=pe(l),x=pe(l),_=pe(l),k=pe(l),R=pe(l),U=pe(l),K=pe(l),O=pe(u),W=pe(u),Y=pe(u),T=pe(u),F=pe(u),V=pe(u),X=pe(u),w((J=t((H=function(e){function t(){var t;return t=e.call(this,"LevelManager")||this,o(t,"Wall1",J,s(t)),o(t,"Dot",Z,s(t)),o(t,"RedBall",q,s(t)),o(t,"Player",Q,s(t)),o(t,"Enemy",$,s(t)),o(t,"Boss",ee,s(t)),o(t,"Ghost",te,s(t)),o(t,"BonusLife",ne,s(t)),o(t,"BonusMoney",oe,s(t)),t.currentBonusNode=null,t.players=[],o(t,"LifeUINode",se,s(t)),t.life=3,t.walls=[],t.enemies=[],t.bosses=[],t.ghosts=[],o(t,"levelNameNode",re,s(t)),o(t,"messageNode",ie,s(t)),t.messageCounter=null,o(t,"scoreNode",ae,s(t)),o(t,"monsterNode",le,s(t)),o(t,"bonusesNode",ue,s(t)),o(t,"eatenDotsNode",ce,s(t)),t.totalDots=0,t.eatenDots=0,t.monsterGeneratorCounter=null,t.enemyAppearenceLayer=void 0,t.monsterLayer=void 0,t.frameCounter=new B,t.scope=void 0,t._isPaused=!1,t.onKey=t.onKey.bind(s(t)),t}n(t,e);var i=t.prototype;return i.onEnable=function(){var e=this;c.on(h.EventType.KEY_DOWN,this.onKey),this.scope=fe(),this.scope.run((function(){he((function(){e.render()}),{scheduler:function(){e.render()}})}))},i.onDisable=function(){c.off(h.EventType.KEY_DOWN,this.onKey),this.scope&&(this.scope.stop(),this.scope=null)},i.onKey=function(e){if(this.isLevelComplete())this.loadNextLevel();else switch(e.keyCode){case f.ENTER:case f.KEY_Y:this._isPaused&&(I.resetScore(),this.clear(),m.loadScene("Scene2",(function(){m.resume()})));break;case f.KEY_N:this._isPaused&&this.resume();break;case f.ESCAPE:this._isPaused?this.resume():this.pause()}},i.render=function(){this.levelNameNode.getComponent(p).string=I.scores.levelInfo?I.scores.levelInfo.General.Name:"",this.scoreNode.getComponent(p).string=String(I.scores.score),this.monsterNode.getComponent(p).string=String(I.scores.monsters),this.bonusesNode.getComponent(p).string=String(I.scores.bonuses)},i.start=function(){this.enemyAppearenceLayer=this.node.getChildByName("EnemyAppearence"),this.monsterLayer=this.node.getChildByName("Monster")},i.update=function(e){this.frameCounter.update()},i.generateWall=function(e){for(var t=0;t<e.Map.length;++t)for(var n=e.Map[t],o=0;o<n.length;++o)if("B"===n[o]){var s=d(this.Wall1);s.setParent(this.node.getChildByName("Wall")),s.setPosition(N(t,o)),this.walls.push(s)}},i.generateDot=function(e){for(var t=this,n=0;n<e.Map.length;++n)for(var o=e.Map[n],s=0;s<o.length;++s)if("A"===o[s]){var r=d(this.Dot);r.setParent(this.node.getChildByName("Item")),r.setPosition(N(n,s)),r.once("eaten",(function(e){var n=t.getDotsPercent();t.eatenDots++;var o=t.getDotsPercent();t.score+=e,t.setDotsPercent(),t.eatenDots===t.totalDots?(t.frameCounter.clear(),t.clearAllMonsters(),D.inst.playOneShot(G.LevelComplete),Promise.all(t.players.map((function(e){return e.playHappy()}))).then((function(){t.showLevelComplete(!0)}))):(n<15&&o>=15||n<30&&o>=30||n<60&&o>=60||n<80&&o>=80)&&t.generateRandomBonus()})),this.totalDots++}},i.generateRandomBonus=function(){for(var e=this,t=function(){var t=Math.floor(17*Math.random()),n=Math.floor(17*Math.random());if("A"===e.levelInfo.Map[n][t]){var o=N(n,t),s=e.node.getWorldPosition(),r={x:o.x+s.x,y:o.y+s.y},i=C.instance.testAABB(new P.Rect(r.x-2,r.y-2,4,4));if(!i||!i.length){var a=[e.BonusLife,e.BonusMoney],l=a[Math.floor(Math.random()*a.length)],u=d(l);return e.resetBonus(u),u.setParent(e.node.getChildByName("Item")),u.setPosition(o),u.once("eat",(function(t){l===e.BonusLife?(e.life++,e.LifeUINode.getComponent("LifeUI").setLifeCount(e.life)):l===e.BonusMoney&&(I.scores.score,e.score+=t.score),e.bonuses++,e.showMessage(t.message)})),"break"}}};;){if("break"===t())break}},i.showMessage=function(e){var t=this;this.messageCounter&&this.messageCounter.clear(),this.messageNode.getComponent(p).string=e,this.messageNode.active=!0,this.messageCounter=this.frameCounter.schedule((function(){t.messageNode.active=!t.messageNode.active}),90,10),this.messageCounter.promise.then((function(){t.messageNode.active=!1,t.messageCounter=null}))},i.generateRedBall=function(e){for(var t=this,n=0;n<e.Map.length;++n)for(var o=e.Map[n],s=0;s<o.length;++s)if("D"===o[s]){var r=d(this.RedBall);r.setParent(this.node.getChildByName("Item")),r.setPosition(N(n,s)),r.once("eaten",(function(){t.enemies.forEach((function(e){e.changeToVictim()}))}))}},i.getMainPlayer=function(){return this.players[0]},i.generatePlayer=function(e){var t=this,n=d(this.Player),o=n.getComponent("Player");this.players.push(o),n.setParent(this.node.getChildByName("Player")),n.setPosition(N(e.General.PlayerPointY,e.General.PlayerPointX)),n.once("dead",(function(){t.players.length>1?(o.node.destroy(),t.players.splice(t.players.indexOf(o),1)):t.life>1?(t.enemies.forEach((function(e){return e.node.destroy()})),t.enemies.length=0,t.bosses.forEach((function(e){return e.node.destroy()})),t.bosses.length=0,t.ghosts.forEach((function(e){return e.node.destroy()})),t.ghosts.length=0,o.node.destroy(),t.players.splice(t.players.indexOf(o),1),t.life--,t.LifeUINode.getComponent("LifeUI").setLifeCount(t.life),t.generatePlayer(t.levelInfo),t.stopGenerateEnemy(),t.frameCounter.after(Math.floor(60*Math.random())).promise.then((function(){t.startGenerateEnemy()}))):(t.life--,t.LifeUINode.getComponent("LifeUI").setLifeCount(t.life),t.clear(),m.loadScene("Scene7",(function(){D.inst.playOneShot(G.GameOver)})))}))},i.checkGeneraterMonster=function(){var e=this;if(this.enemies.length<this.levelInfo.General.EnemyCount){var t=d(this.Enemy),n=t.getComponent("Enemy");t.setParent(this.enemyAppearenceLayer),t.setPosition(N(this.levelInfo.General.EnemyPointY,this.levelInfo.General.EnemyPointX)),t.on("becomeVictim",(function(){t.removeFromParent(),t.setParent(e.enemyAppearenceLayer)})),t.on("resume",(function(){t.removeFromParent(),t.setParent(e.monsterLayer)})),t.once("die",(function(t){e.score+=t,e.monsters++})),t.once("dead",(function(){e.enemies.splice(e.enemies.indexOf(n),1),n.dispose()})),this.enemies.push(n)}if(this.bosses.length<this.levelInfo.General.BossCount){var o=d(this.Boss),s=o.getComponent("Boss");s.setLevelInfo(this.levelInfo),o.setParent(this.enemyAppearenceLayer),o.setPosition(N(this.levelInfo.General.BossPointY,this.levelInfo.General.BossPointX)),this.bosses.push(s)}if(this.ghosts.length<this.levelInfo.General.GhostCount){var r=d(this.Ghost),i=r.getComponent("Ghost");r.setParent(this.enemyAppearenceLayer),r.setPosition(N(this.levelInfo.General.GhostPointY,this.levelInfo.General.GhostPointX)),this.ghosts.push(i)}},i.startGenerateEnemy=function(){var e=this;this.monsterGeneratorCounter=this.frameCounter.scheduleRandom((function(){e.checkGeneraterMonster()}),24,60)},i.stopGenerateEnemy=function(){this.monsterGeneratorCounter&&(this.monsterGeneratorCounter.clear(),this.monsterGeneratorCounter=null)},i.resetBonus=function(e){this.currentBonusNode&&g(this.currentBonusNode)&&(this.currentBonusNode.destroy(),this.currentBonusNode=null),this.currentBonusNode=e},i.clearAllMonsters=function(){this.enemies.forEach((function(e){return e.node.getComponent("Enemy").dispose()})),this.enemies.length=0,this.bosses.forEach((function(e){return e.node.destroy()})),this.bosses.length=0,this.ghosts.forEach((function(e){return e.node.destroy()})),this.ghosts.length=0,this.stopGenerateEnemy()},i.clear=function(){this.walls.forEach((function(e){return e.destroy()})),this.walls.length=0,this.frameCounter.clear(),this.clearAllMonsters(),this.showLevelComplete(!1),this.players.forEach((function(e){return e.node.destroy()})),this.players.length=0,this.totalDots=0,this.eatenDots=0,this.setDotsPercent(),this.resetBonus(null),D.inst.stop()},i.pause=function(){this._isPaused||(this._isPaused=!0,this.node.parent.getChildByName("ExitPrompt").active=!0,m.pause())},i.resume=function(){this._isPaused&&(this._isPaused=!1,this.node.parent.getChildByName("ExitPrompt").active=!1,m.resume())},i.showLevelComplete=function(e){this.node.parent.getChildByName("LevelComplete").active=e},i.isLevelComplete=function(){return this.node.parent.getChildByName("LevelComplete").active},i.getDotsPercent=function(){return 0===this.totalDots?0:Math.floor(100*this.eatenDots/this.totalDots)},i.setDotsPercent=function(){this.eatenDotsNode.getComponent(p).string=this.getDotsPercent()+"%"},i.loadNextLevel=function(){this.level>=6?(this.clear(),m.loadScene("Scene8",(function(){D.inst.playOneShot(G.GameComplete)}))):this.loadLevel(this.level+1)},i.loadLevel=function(e){var t=this;return new Promise((function(n,o){var s=("0"+e).slice(-2);y.load("LEVELS/Level"+s,v,(function(r,i){if(r)o(r);else{t.level=e,t.clear();var a=L(i.text);t.levelInfo=a,t.generateWall(a),t.generateDot(a),t.generateRedBall(a),t.LifeUINode.getComponent("LifeUI").setLifeCount(t.life),t.generatePlayer(a),t.showMessage("Ready!"),D.inst.play("Music/"+s),t.frameCounter.after(Math.floor(60*Math.random())).promise.then((function(){t.startGenerateEnemy()})),n()}}))}))},r(t,[{key:"level",get:function(){return I.scores.level},set:function(e){I.scores.level=e}},{key:"levelInfo",get:function(){return I.scores.levelInfo},set:function(e){I.scores.levelInfo=e}},{key:"score",get:function(){return I.scores.score},set:function(e){I.scores.score=e}},{key:"monsters",get:function(){return I.scores.monsters},set:function(e){I.scores.monsters=e}},{key:"bonuses",get:function(){return I.scores.bonuses},set:function(e){I.scores.bonuses=e}}]),t}(b)).prototype,"Wall1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(H.prototype,"Dot",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(H.prototype,"RedBall",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(H.prototype,"Player",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(H.prototype,"Enemy",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(H.prototype,"Boss",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(H.prototype,"Ghost",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(H.prototype,"BonusLife",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(H.prototype,"BonusMoney",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(H.prototype,"LifeUINode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(H.prototype,"levelNameNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(H.prototype,"messageNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(H.prototype,"scoreNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(H.prototype,"monsterNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(H.prototype,"bonusesNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(H.prototype,"eatenDotsNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=H))||j));i._RF.pop()}}}));

System.register("chunks:///_virtual/LifeUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,o,a,s,c,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Prefab,c=e.instantiate,f=e.Component}],execute:function(){var l,u,p,h,d;o._RF.push({},"bd5bcbManZNNrV/9z/xJ+Dx","LifeUI",void 0);var y=a.ccclass,L=a.property;e("LifeUI",(l=y("LifeUI"),u=L(s),l((d=t((h=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"pacmanLife",d,r(t)),t.lifeNodes=[],t}i(t,e);var o=t.prototype;return o.start=function(){},o.setLifeCount=function(e){this.lifeNodes.forEach((function(e){e.destroy()})),this.lifeNodes.length=0;for(var t=0;t<e;++t){var i=c(this.pacmanLife);i.setParent(this.node),i.setPosition(t%5*32,32*-Math.floor(t/5)),this.lifeNodes.push(i)}},o.update=function(e){},t}(f)).prototype,"pacmanLife",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=h))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./Blink.ts","./BonusLife.ts","./BonusMoney.ts","./Boss.ts","./Dot.ts","./Enemy.ts","./Game.ts","./Ghost.ts","./LevelManager.ts","./LifeUI.ts","./Player.ts","./RedBall.ts","./AddHighScore.ts","./Control.ts","./GameOver.ts","./Help2.ts","./HighScores.ts","./Intro.ts","./Menu2.ts","./Options2.ts","./reactivity.ts","./help.ts","./index.ts","./menu.ts","./options.ts","./AtlasAnimation.ts","./AudioManager.ts","./FrameCounter.ts","./common.ts","./level.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/menu.ts",["cc","./reactivity.ts"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.reactive}],execute:function(){e._RF.push({},"96183my7thCz4O6c37nHIZl","menu",void 0);var n=i,s=t("MenuItem",function(t){return t.NEW_GAME="NewGame",t.OPTIONS="Options",t.HIGH_SCORES="HighScores",t.HELP="Help",t.EXIT="Exit",t}({}));t("MenuModel",function(){function t(){this.items=[s.NEW_GAME,s.OPTIONS,s.HIGH_SCORES,s.HELP,s.EXIT],this.state=n({currentItem:s.NEW_GAME})}var e=t.prototype;return e.next=function(){this.state.currentItem=this.items[(this.items.indexOf(this.state.currentItem)+1)%this.items.length]},e.prev=function(){this.state.currentItem=this.items[(this.items.indexOf(this.state.currentItem)-1+this.items.length)%this.items.length]},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Menu2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./menu.ts","./reactivity.ts","./AudioManager.ts"],(function(e){var t,n,o,i,s,r,a,u,c,p,h,l,f,d,S,T,m,N,y,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.Node,u=e.input,c=e.Input,p=e.Sprite,h=e.director,l=e.game,f=e.KeyCode,d=e.Component},function(e){S=e.globalData},function(e){T=e.MenuItem},function(e){m=e.effect,N=e.effectScope},function(e){y=e.AudioManager,O=e.SoundEffect}],execute:function(){var b,E,H,g,v,_,R,w,A,I,C,G,x;s._RF.push({},"6fca720qc1Iq5BJDNq3YVhU","Menu",void 0);var P=r.ccclass,U=r.property,M=m,B=N;e("Menu",(b=P("Menu"),E=U(a),H=U(a),g=U(a),v=U(a),_=U(a),b((A=t((w=function(e){function t(){var t;return t=e.call(this,"Menu")||this,o(t,"newGameNode",A,i(t)),o(t,"optionsNode",I,i(t)),o(t,"highScoresNode",C,i(t)),o(t,"helpNode",G,i(t)),o(t,"exitNode",x,i(t)),t.scope=void 0,t.onKey=t.onKey.bind(i(t)),t.toNewGame=t.toNewGame.bind(i(t)),t.toOptions=t.toOptions.bind(i(t)),t.toHighScores=t.toHighScores.bind(i(t)),t.toHelp=t.toHelp.bind(i(t)),t.exit=t.exit.bind(i(t)),t}n(t,e);var s=t.prototype;return s.onEnable=function(){var e=this;u.on(c.EventType.KEY_DOWN,this.onKey),this.newGameNode.on(c.EventType.TOUCH_START,this.toNewGame),this.optionsNode.on(c.EventType.TOUCH_START,this.toOptions),this.highScoresNode.on(c.EventType.TOUCH_START,this.toHighScores),this.helpNode.on(c.EventType.TOUCH_START,this.toHelp),this.exitNode.on(c.EventType.TOUCH_START,this.exit),this.scope=B(),this.scope.run((function(){M((function(){e.render()}),{scheduler:function(){e.render()}})}))},s.start=function(){},s.render=function(){for(var e=S.menu.state.currentItem,t=[this.newGameNode,this.optionsNode,this.highScoresNode,this.helpNode,this.exitNode],n=0;n<t.length;n++){var o=t[n],i=o.getComponent(p);o.name===e?i.spriteFrame=i.spriteAtlas.getSpriteFrames()[1]:i.spriteFrame=i.spriteAtlas.getSpriteFrames()[0]}},s.toNewGame=function(){S.menu.state.currentItem=T.NEW_GAME,y.inst.playOneShot(O.PushButton),h.loadScene("Scene3")},s.toOptions=function(){S.menu.state.currentItem=T.OPTIONS,y.inst.playOneShot(O.PushButton),h.loadScene("Scene10")},s.toHighScores=function(){S.menu.state.currentItem=T.HIGH_SCORES,y.inst.playOneShot(O.PushButton),h.loadScene("Scene6")},s.toHelp=function(){S.menu.state.currentItem=T.HELP,y.inst.playOneShot(O.PushButton),h.loadScene("Scene4")},s.exit=function(){S.menu.state.currentItem=T.EXIT,y.inst.playOneShot(O.PushButton),l.end()},s.onEnter=function(e){switch(e){case T.NEW_GAME:this.toNewGame();break;case T.OPTIONS:this.toOptions();break;case T.HIGH_SCORES:this.toHighScores();break;case T.HELP:this.toHelp();break;case T.EXIT:this.exit()}},s.update=function(e){},s.onKey=function(e){switch(e.keyCode){case f.ARROW_UP:y.inst.playOneShot(O.Button),S.menu.prev();break;case f.ARROW_DOWN:y.inst.playOneShot(O.Button),S.menu.next();break;case f.ENTER:this.onEnter(S.menu.state.currentItem)}},s.onDisable=function(){this.scope&&(this.scope.stop(),this.scope=null),this.newGameNode.off(c.EventType.TOUCH_START,this.toNewGame),this.optionsNode.off(c.EventType.TOUCH_START,this.toOptions),this.highScoresNode.off(c.EventType.TOUCH_START,this.toHighScores),this.helpNode.off(c.EventType.TOUCH_START,this.toHelp),this.exitNode.off(c.EventType.TOUCH_START,this.exit),u.off(c.EventType.KEY_DOWN,this.onKey)},t}(d)).prototype,"newGameNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(w.prototype,"optionsNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(w.prototype,"highScoresNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(w.prototype,"helpNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(w.prototype,"exitNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=w))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/options.ts",["cc","./reactivity.ts"],(function(t){var e,s,i,n,o;return{setters:[function(t){e=t.cclegacy,s=t.sys,i=t.game},function(t){n=t.reactive,o=t.effect}],execute:function(){e._RF.push({},"963d0qUW2NI0KcN8dt+FQxa","options",void 0);var u=n,a=o,r=t("OptionsItem",function(t){return t.GAME_TYPE="GameType",t.MUSIC_VOLUME="MusicVolume",t.WAVE_VOLUME="WaveVolume",t.GAME_SPEED="GameSpeed",t.RETURN="Return",t}({})),c=t("GameType",function(t){return t[t.CLASSIC=0]="CLASSIC",t[t.FEATURES=1]="FEATURES",t}({})),m="pacmania_options";t("OptionsModel",function(){function t(){var t=this;this.items=[r.GAME_TYPE,r.MUSIC_VOLUME,r.WAVE_VOLUME,r.GAME_SPEED,r.RETURN],this.state=void 0;var e=s.localStorage.getItem(m);e?(null==(e=JSON.parse(e)).type&&(e.type=c.CLASSIC),null==e.musicVolume&&(e.musicVolume=10),null==e.waveVolume&&(e.waveVolume=5),null==e.speed&&(e.speed=5)):e={type:c.CLASSIC,musicVolume:10,waveVolume:5,speed:5},s.localStorage.setItem(m,JSON.stringify(e)),this.state=u({currentItem:r.GAME_TYPE,options:e});var n=function(){i.frameRate=10+5*t.state.options.speed,console.debug("Set Frame Rate: ",i.frameRate)};a((function(){return n(),[t.state.options.type,t.state.options.musicVolume,t.state.options.waveVolume,t.state.options.speed]}),{scheduler:function(){n(),s.localStorage.setItem(m,JSON.stringify(t.state.options))}})}var e=t.prototype;return e.next=function(){this.state.currentItem=this.items[(this.items.indexOf(this.state.currentItem)+1)%this.items.length]},e.prev=function(){this.state.currentItem=this.items[(this.items.indexOf(this.state.currentItem)-1+this.items.length)%this.items.length]},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Options2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./options.ts","./reactivity.ts","./AudioManager.ts"],(function(t){var e,o,n,s,i,a,r,p,u,m,c,l,d,h,E,y,g,S,v,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,r=t.Node,p=t.Input,u=t.input,m=t.Sprite,c=t.director,l=t.KeyCode,d=t.Component},function(t){h=t.globalData},function(t){E=t.OptionsItem,y=t.GameType},function(t){g=t.effect,S=t.effectScope},function(t){v=t.AudioManager,f=t.SoundEffect}],execute:function(){var T,N,A,O,V,F,C,_,M,U,I,R,b;i._RF.push({},"fded51TCrZPAZRKjZmvNaB/","Options",void 0);var P=a.ccclass,w=a.property,B=g,L=S;t("Options",(T=P("Options"),N=w(r),A=w(r),O=w(r),V=w(r),F=w(r),T((M=e((_=function(t){function e(){var e;return e=t.call(this,"Options")||this,n(e,"gameTypeNode",M,s(e)),n(e,"musicVolumeNode",U,s(e)),n(e,"waveVolumeNode",I,s(e)),n(e,"gameSpeedNode",R,s(e)),n(e,"returnNode",b,s(e)),e.scope=void 0,e.onKey=e.onKey.bind(s(e)),e}o(e,t);var i=e.prototype;return i.onLoad=function(){var t=this;this.returnNode.on(p.EventType.TOUCH_START,(function(){v.inst.playOneShot(f.PushButton),h.options.state.currentItem=E.RETURN,t.onEnter(E.RETURN)})),this.gameTypeNode.on(p.EventType.TOUCH_START,(function(){v.inst.playOneShot(f.PushButton),h.options.state.currentItem=E.GAME_TYPE,t.onEnter(E.GAME_TYPE)})),this.musicVolumeNode.on(p.EventType.TOUCH_START,(function(t){h.options.state.currentItem=E.MUSIC_VOLUME;var e=t.getUILocation().x;if(e>=400&&e<600){var o=Math.round(10*(e-400)/200);o!==h.options.state.options.musicVolume&&(v.inst.playOneShot(f.Button),h.options.state.options.musicVolume=o)}else v.inst.playOneShot(f.PushButton)})),this.musicVolumeNode.on(p.EventType.TOUCH_MOVE,(function(t){var e=t.getUILocation().x;if(e>=400&&e<600){var o=Math.round(10*(e-400)/200);o!==h.options.state.options.musicVolume&&(v.inst.playOneShot(f.Button),h.options.state.options.musicVolume=o)}})),this.waveVolumeNode.on(p.EventType.TOUCH_START,(function(t){h.options.state.currentItem=E.WAVE_VOLUME;var e=t.getUILocation().x;if(e>=400&&e<600){var o=Math.round(10*(e-400)/200);o!==h.options.state.options.waveVolume&&(h.options.state.options.waveVolume=o,v.inst.playOneShot(f.Button))}else v.inst.playOneShot(f.PushButton)})),this.waveVolumeNode.on(p.EventType.TOUCH_MOVE,(function(t){var e=t.getUILocation().x;if(e>=400&&e<600){var o=Math.round(10*(e-400)/200);o!==h.options.state.options.waveVolume&&(h.options.state.options.waveVolume=o,v.inst.playOneShot(f.Button))}})),this.gameSpeedNode.on(p.EventType.TOUCH_START,(function(t){h.options.state.currentItem=E.GAME_SPEED;var e=t.getUILocation().x;if(e>=400&&e<600){var o=Math.round(10*(e-400)/200);o!==h.options.state.options.speed&&(v.inst.playOneShot(f.Button),h.options.state.options.speed=o)}else v.inst.playOneShot(f.PushButton)})),this.gameSpeedNode.on(p.EventType.TOUCH_MOVE,(function(t){var e=t.getUILocation().x;if(e>=400&&e<600){var o=Math.round(10*(e-400)/200);o!==h.options.state.options.speed&&(v.inst.playOneShot(f.Button),h.options.state.options.speed=o)}}))},i.onEnable=function(){var t=this;u.on(p.EventType.KEY_DOWN,this.onKey),u.on(p.EventType.KEY_PRESSING,this.onKey),h.options.state.currentItem=E.GAME_TYPE,this.scope=L(),this.scope.run((function(){B((function(){t.render()}),{scheduler:function(){t.render()}})}))},i.start=function(){},i.render=function(){var t=h.options.state.currentItem;if(h.options.state.options.type===y.CLASSIC){var e=this.gameTypeNode.getChildByName("GameTypeClassic");e.active=!0,this.gameTypeNode.getChildByName("GameTypeFeatures").active=!1;var o=e.getComponent(m);t===E.GAME_TYPE?o.spriteFrame=o.spriteAtlas.getSpriteFrames()[1]:o.spriteFrame=o.spriteAtlas.getSpriteFrames()[0]}else if(h.options.state.options.type===y.FEATURES){var n=this.gameTypeNode.getChildByName("GameTypeFeatures");this.gameTypeNode.getChildByName("GameTypeClassic").active=!1,n.active=!0;var s=n.getComponent(m);t===E.GAME_TYPE?s.spriteFrame=s.spriteAtlas.getSpriteFrames()[1]:s.spriteFrame=s.spriteAtlas.getSpriteFrames()[0]}var i=this.musicVolumeNode.getComponent(m),a=this.musicVolumeNode.getChildByName("Indicator"),r=a.getComponent(m);E.MUSIC_VOLUME===t?(i.spriteFrame=i.spriteAtlas.getSpriteFrames()[1],r.spriteFrame=r.spriteAtlas.getSpriteFrames()[1]):(i.spriteFrame=i.spriteAtlas.getSpriteFrames()[0],r.spriteFrame=r.spriteAtlas.getSpriteFrames()[0]),a.setPosition(10+18*h.options.state.options.musicVolume,0);var p=this.waveVolumeNode.getComponent(m),u=this.waveVolumeNode.getChildByName("Indicator"),c=u.getComponent(m);E.WAVE_VOLUME===t?(p.spriteFrame=p.spriteAtlas.getSpriteFrames()[1],c.spriteFrame=c.spriteAtlas.getSpriteFrames()[1]):(p.spriteFrame=p.spriteAtlas.getSpriteFrames()[0],c.spriteFrame=c.spriteAtlas.getSpriteFrames()[0]),u.setPosition(10+18*h.options.state.options.waveVolume,0);var l=this.gameSpeedNode.getComponent(m),d=this.gameSpeedNode.getChildByName("Indicator"),g=d.getComponent(m);E.GAME_SPEED===t?(l.spriteFrame=l.spriteAtlas.getSpriteFrames()[1],g.spriteFrame=g.spriteAtlas.getSpriteFrames()[1]):(l.spriteFrame=l.spriteAtlas.getSpriteFrames()[0],g.spriteFrame=g.spriteAtlas.getSpriteFrames()[0]),d.setPosition(10+18*h.options.state.options.speed,0);var S=this.returnNode.getComponent(m);E.RETURN===t?S.spriteFrame=S.spriteAtlas.getSpriteFrames()[1]:S.spriteFrame=S.spriteAtlas.getSpriteFrames()[0]},i.onEnter=function(t){switch(t){case E.GAME_TYPE:h.options.state.options.type=y.CLASSIC;break;case E.RETURN:c.loadScene("Scene2")}},i.onLeft=function(t){switch(t){case E.MUSIC_VOLUME:h.options.state.options.musicVolume>0&&h.options.state.options.musicVolume--;break;case E.WAVE_VOLUME:h.options.state.options.waveVolume>0&&h.options.state.options.waveVolume--;break;case E.GAME_SPEED:h.options.state.options.speed>0&&h.options.state.options.speed--}},i.onRight=function(t){switch(t){case E.MUSIC_VOLUME:h.options.state.options.musicVolume<10&&h.options.state.options.musicVolume++;break;case E.WAVE_VOLUME:h.options.state.options.waveVolume<10&&h.options.state.options.waveVolume++;break;case E.GAME_SPEED:h.options.state.options.speed<10&&h.options.state.options.speed++}},i.update=function(t){},i.onKey=function(t){switch(t.keyCode){case l.ARROW_UP:v.inst.playOneShot(f.Button),h.options.prev();break;case l.ARROW_DOWN:v.inst.playOneShot(f.Button),h.options.next();break;case l.ARROW_LEFT:this.onLeft(h.options.state.currentItem);break;case l.ARROW_RIGHT:this.onRight(h.options.state.currentItem);break;case l.ENTER:v.inst.playOneShot(f.PushButton),this.onEnter(h.options.state.currentItem)}},i.onDisable=function(){this.scope&&(this.scope.stop(),this.scope=null),u.off(p.EventType.KEY_PRESSING,this.onKey),u.off(p.EventType.KEY_DOWN,this.onKey)},e}(d)).prototype,"gameTypeNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(_.prototype,"musicVolumeNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(_.prototype,"waveVolumeNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(_.prototype,"gameSpeedNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(_.prototype,"returnNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=_))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./common.ts","./AtlasAnimation.ts","./AudioManager.ts"],(function(e){var t,i,n,o,r,a,s,p,h,c,g,l,u,m,d,f,_,y,D,v,P,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.SpriteAtlas,p=e.KeyCode,h=e.Sprite,c=e.input,g=e.Input,l=e.Collider2D,u=e.Contact2DType,m=e.Component},function(e){d=e.Direction,f=e.keyCodeToDirection,_=e.canMove,y=e.isInBlockCenter,D=e.getAtlasIndex},function(e){v=e.AtlasAnimation},function(e){P=e.AudioManager,A=e.SoundEffect}],execute:function(){var R,w,F,x,N,b,C,S,B,L,E,U,O,T,z,K,W;r._RF.push({},"f84a3mK2OFDEYQ+GpNNare9","Player",void 0);var I=a.ccclass,M=a.property;e("Player",(R=I("Player"),w=M(s),F=M(s),x=M(s),N=M(s),b=M(s),C=M(s),S=M(s),R((E=t((L=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"appearence",E,o(t)),n(t,"pUp",U,o(t)),n(t,"pRight",O,o(t)),n(t,"pDown",T,o(t)),n(t,"pLeft",z,o(t)),n(t,"death",K,o(t)),n(t,"happy",W,o(t)),t.sprite=void 0,t._appearenceAnimation=void 0,t._deathAnimation=void 0,t._movingDirection=d.None,t._nextDirection=d.None,t._eating=!1,t._happy=!1,t.dead=!1,t.speed=8,t.onKeyDown=function(e){switch(e.keyCode){case p.ARROW_UP:case p.ARROW_RIGHT:case p.ARROW_DOWN:case p.ARROW_LEFT:t._nextDirection=f(e.keyCode)}},t}i(t,e);var r=t.prototype;return r.start=function(){this.sprite=this.node.getComponent(h),this._appearenceAnimation=new v(this.appearence,this.sprite,6),this._deathAnimation=new v(this.death,this.sprite,6),this._appearenceAnimation.play(),c.on(g.EventType.KEY_DOWN,this.onKeyDown),this.node.getComponent(l).on(u.BEGIN_CONTACT,this.onBeginContact,this)},r.onBeginContact=function(e,t,i){var n=this;if(!this.dead)if(2.1===t.tag)t.node.getComponent("Dot").eaten();else if(2.2===t.tag){t.node.getComponent("RedBall").eaten()}else if(2.3===t.tag){t.node.getComponent("BonusLife").eaten()}else if(2.4===t.tag){t.node.getComponent("BonusMoney").eaten()}else if(3===Math.floor(t.tag)){var o=t.node.getComponent("Enemy")||t.node.getComponent("Boss")||t.node.getComponent("Ghost");if(!o.isApearencing){if(3===t.tag){if(o.dead)return;if(o.isVictim)return void o.die()}this._happy||this.die().then((function(){n.node.emit("dead")}))}}},r.update=function(e){if(this.dead)this._deathAnimation.update();else{this._appearenceAnimation.update();var t=this.node.getPosition(),i=this.node.getWorldPosition();if(this._nextDirection!==d.None)_(this._nextDirection,t,i,!0).result&&y(t)?(this._movingDirection=this._nextDirection,this._nextDirection=d.None):this._movingDirection===d.None&&(this._nextDirection=d.None);if(this._movingDirection!==d.None)if(y(t)&&(this._eating=!1),this._movingDirection===d.Up){var n=_(this._movingDirection,t,i,!0),o=n.result,r=n.shouldRepeat,a=n.eating,s=n.eatingRedBall,p=n.eatingBonus;this._eating||(this._eating=a),o?(this.sprite.spriteFrame=s?this.pUp.getSpriteFrame("PUp-2"):p?this.pUp.getSpriteFrame("PUp-0"):this.pUp.getSpriteFrame("PUp-"+(this._eating?D(this._movingDirection,t.x,t.y):1)),r?this.node.setPosition(t.x,t.y-512):this.node.setPosition(t.x,t.y+this.speed)):(this._movingDirection=d.None,this.sprite.spriteFrame=this.pUp.getSpriteFrame("PUp-1"))}else if(this._movingDirection===d.Right){var h=_(this._movingDirection,t,i,!0),c=h.result,g=h.shouldRepeat,l=h.eating,u=h.eatingRedBall,m=h.eatingBonus;this._eating||(this._eating=l),c?(this.sprite.spriteFrame=u?this.pRight.getSpriteFrame("PRight-2"):m?this.pRight.getSpriteFrame("PRight-0"):this.pRight.getSpriteFrame("PRight-"+(this._eating?D(this._movingDirection,t.x,t.y):1)),g?this.node.setPosition(t.x-512,t.y):this.node.setPosition(t.x+this.speed,t.y)):(this._movingDirection=d.None,this.sprite.spriteFrame=this.pRight.getSpriteFrame("PRight-1"))}else if(this._movingDirection===d.Down){var f=_(this._movingDirection,t,i,!0),v=f.result,P=f.shouldRepeat,A=f.eating,R=f.eatingRedBall,w=f.eatingBonus;this._eating||(this._eating=A),v?(this.sprite.spriteFrame=R?this.pDown.getSpriteFrame("PDown-2"):w?this.pDown.getSpriteFrame("PDown-0"):this.pDown.getSpriteFrame("PDown-"+(this._eating?D(this._movingDirection,t.x,t.y):1)),P?this.node.setPosition(t.x,t.y+512):this.node.setPosition(t.x,t.y-this.speed)):(this._movingDirection=d.None,this.sprite.spriteFrame=this.pDown.getSpriteFrame("PDown-1"))}else if(this._movingDirection===d.Left){var F=_(this._movingDirection,t,i,!0),x=F.result,N=F.shouldRepeat,b=F.eating,C=F.eatingRedBall,S=F.eatingBonus;this._eating||(this._eating=b),x?(this.sprite.spriteFrame=C?this.pLeft.getSpriteFrame("PLeft-2"):S?this.pLeft.getSpriteFrame("PLeft-0"):this.pLeft.getSpriteFrame("PLeft-"+(this._eating?D(this._movingDirection,t.x,t.y):1)),N?this.node.setPosition(t.x+512,t.y):this.node.setPosition(t.x-this.speed,t.y)):(this._movingDirection=d.None,this.sprite.spriteFrame=this.pLeft.getSpriteFrame("PLeft-1"))}}},r.die=function(){var e=this;return new Promise((function(t){P.inst.playOneShot(A.Death),e.dead=!0,e._movingDirection=d.None,e._nextDirection=d.None,e._deathAnimation.play(!0),c.off(g.EventType.KEY_DOWN,e.onKeyDown);e._deathAnimation.on("end",(function i(){e._deathAnimation.off("end",i),t()}))}))},r.playAppearence=function(){this._appearenceAnimation.play()},r.playHappy=function(){var e=this;return this._happy?Promise.reject(new Error("Already happy state")):new Promise((function(t){e._happy=!0,e._movingDirection=d.None,e._nextDirection=d.None,c.off(g.EventType.KEY_DOWN,e.onKeyDown),e._appearenceAnimation.reset(e.happy,e.sprite,6,!1),e._appearenceAnimation.once("end",(function(){t()})),e._appearenceAnimation.play(!0)}))},t}(m)).prototype,"appearence",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(L.prototype,"pUp",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(L.prototype,"pRight",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(L.prototype,"pDown",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(L.prototype,"pLeft",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(L.prototype,"death",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(L.prototype,"happy",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=L))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/reactivity.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r;return{setters:[function(e){t=e.createClass,n=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy}],execute:function(){function i(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return!!n[e.toLowerCase()]}:function(e){return!!n[e]}}e({computed:function(e,t,n){void 0===n&&(n=!1);var r,i,a=v(e);a?(r=e,i=function(){console.warn("Write operation failed: computed value is readonly")}):(r=e.get,i=e.set);var o=new rt(r,i,a||!i,n);t&&!n&&(o.effect.onTrack=t.onTrack,o.effect.onTrigger=t.onTrigger);return o},customRef:function(e){return new $e(e)},deferredComputed:function(e){return new st(e)},effect:function(e,t){e.effect&&(e=e.effect.fn);var n=new W(e);t&&(s(n,t),t.scope&&j(n,t.scope));t&&t.lazy||n.run();var r=n.run.bind(n);return r.effect=n,r},effectScope:function(e){return new m(e)},enableTracking:function(){N.push(I),I=!0},getCurrentScope:function(){return u},isProxy:Ke,isReactive:Ne,isReadonly:De,isRef:Ye,isShallow:Fe,markRaw:function(e){return k(e,"__v_skip",!0),e},onScopeDispose:function(e){u?u.cleanups.push(e):S("onScopeDispose() is called when there is no active effect scope to be associated with.")},pauseTracking:D,proxyRefs:function(e){return Ne(e)?e:new Proxy(e,Xe)},reactive:We,readonly:Ce,ref:qe,resetTracking:F,shallowReactive:function(e){return Ie(e,!1,ae,Oe,Ve)},shallowReadonly:function(e){return Ie(e,!0,oe,Pe,ze)},shallowRef:function(e){return Ge(e,!0)},stop:function(e){e.effect.stop()},toRaw:Le,toRef:function(e,t,n){return Ye(e)?e:v(e)?new tt(e):p(e)&&arguments.length>1?nt(e,t,n):qe(e)},toRefs:function(e){Ke(e)||console.warn("toRefs() expects a reactive object but received a plain one.");var t=h(e)?new Array(e.length):{};for(var n in e)t[n]=nt(e,n);return t},toValue:function(e){return v(e)?e():Qe(e)},track:K,trigger:B,triggerRef:function(e){Ue(e,e.value)},unref:Qe}),r._RF.push({},"8261edBbfdIf4oAVzVwhZpZ","reactivity",void 0);var a,o,u,s=Object.assign,c=Object.prototype.hasOwnProperty,f=function(e,t){return c.call(e,t)},h=Array.isArray,l=function(e){return"[object Map]"===g(e)},v=function(e){return"function"==typeof e},d=function(e){return"symbol"==typeof e},p=function(e){return null!==e&&"object"==typeof e},_=Object.prototype.toString,g=function(e){return _.call(e)},y=function(e){return g(e).slice(8,-1)},w=function(e){return"string"==typeof e&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e},R=(a=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},o=Object.create(null),function(e){return o[e]||(o[e]=a(e))}),b=function(e,t){return!Object.is(e,t)},k=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};function S(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).warn.apply(t,["[Vue warn] "+e].concat(r))}var m=e("EffectScope",function(){function e(e){void 0===e&&(e=!1),this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=u,!e&&u&&(this.index=(u.scopes||(u.scopes=[])).push(this)-1)}var n=e.prototype;return n.run=function(e){if(this._active){var t=u;try{return u=this,e()}finally{u=t}}else S("cannot run an inactive effect scope.")},n.on=function(){u=this},n.off=function(){u=this.parent},n.stop=function(e){if(this._active){var t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}},t(e,[{key:"active",get:function(){return this._active}}]),e}());function j(e,t){void 0===t&&(t=u),t&&t.active&&t.effects.push(e)}var E,O=function(e){var t=new Set(e);return t.w=0,t.n=0,t},x=function(e){return(e.w&V)>0},P=function(e){return(e.n&V)>0},T=new WeakMap,M=0,V=1,A=e("ITERATE_KEY",Symbol("iterate")),z=Symbol("Map key iterate"),W=e("ReactiveEffect",function(){function e(e,t,n){void 0===t&&(t=null),this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,j(this,n)}var t=e.prototype;return t.run=function(){if(!this.active)return this.fn();for(var e=E,t=I;e;){if(e===this)return;e=e.parent}try{return this.parent=E,E=this,I=!0,V=1<<++M,M<=30?function(e){var t=e.deps;if(t.length)for(var n=0;n<t.length;n++)t[n].w|=V}(this):C(this),this.fn()}finally{M<=30&&function(e){var t=e.deps;if(t.length){for(var n=0,r=0;r<t.length;r++){var i=t[r];x(i)&&!P(i)?i.delete(e):t[n++]=i,i.w&=~V,i.n&=~V}t.length=n}}(this),V=1<<--M,E=this.parent,I=t,this.parent=void 0,this.deferStop&&this.stop()}},t.stop=function(){E===this?this.deferStop=!0:this.active&&(C(this),this.onStop&&this.onStop(),this.active=!1)},e}());function C(e){var t=e.deps;if(t.length){for(var n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var I=!0,N=[];function D(){N.push(I),I=!1}function F(){var e=N.pop();I=void 0===e||e}function K(e,t,n){if(I&&E){var r=T.get(e);r||T.set(e,r=new Map);var i=r.get(n);i||r.set(n,i=O()),L(i,{effect:E,target:e,type:t,key:n})}}function L(e,t){var n=!1;M<=30?P(e)||(e.n|=V,n=!x(e)):n=!e.has(E),n&&(e.add(E),E.deps.push(e),E.onTrack&&E.onTrack(s({effect:E},t)))}function B(e,t,r,i,a,o){var u=T.get(e);if(u){var s=[];if("clear"===t)s=[],u.forEach((function(e){s.push(e)}));else if("length"===r&&h(e)){var c=Number(i);u.forEach((function(e,t){("length"===t||t>=c)&&s.push(e)}))}else switch(void 0!==r&&s.push(u.get(r)),t){case"add":h(e)?w(r)&&s.push(u.get("length")):(s.push(u.get(A)),l(e)&&s.push(u.get(z)));break;case"delete":h(e)||(s.push(u.get(A)),l(e)&&s.push(u.get(z)));break;case"set":l(e)&&s.push(u.get(A))}var f={target:e,type:t,key:r,newValue:i,oldValue:a,oldTarget:o};if(1===s.length)s[0]&&H(s[0],f);else{for(var v,d=[],p=n(s);!(v=p()).done;){var _=v.value;_&&_.forEach((function(e){d.push(e)}))}H(O(d),f)}}}function H(e,t){for(var r,i,a=h(e)?e:(r=[],e.forEach((function(e){r.push(e)})),r),o=n(a);!(i=o()).done;){var u=i.value;u.computed&&Z(u,t)}for(var s,c=n(a);!(s=c()).done;){var f=s.value;f.computed||Z(f,t)}}function Z(e,t){(e!==E||e.allowRecurse)&&(e.onTrigger&&e.onTrigger(s({effect:e},t)),e.scheduler?e.scheduler():e.run())}var U=i("__proto__,__v_isRef,__isVue"),Y=new Set(Object.getOwnPropertyNames(Symbol).filter((function(e){return"arguments"!==e&&"caller"!==e})).map((function(e){return Symbol[e]})).filter(d)),q=te(),G=te(!1,!0),J=te(!0),Q=te(!0,!0),X=$();function $(){var e={};return["includes","indexOf","lastIndexOf"].forEach((function(t){e[t]=function(){for(var e=Le(this),n=0,r=this.length;n<r;n++)K(e,"get",n+"");for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=e[t].apply(e,a);return-1===u||!1===u?e[t].apply(e,a.map(Le)):u}})),["push","pop","shift","unshift","splice"].forEach((function(t){e[t]=function(){D();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Le(this)[t].apply(this,n);return F(),i}})),e}function ee(e){var t=Le(this);return K(t,"has",e),t.hasOwnProperty(e)}function te(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),function(n,r,i){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&i===(e?t?ze:Ae:t?Ve:Me).get(n))return n;var a=h(n);if(!e){if(a&&f(X,r))return Reflect.get(X,r,i);if("hasOwnProperty"===r)return ee}var o=Reflect.get(n,r,i);return(d(r)?Y.has(r):U(r))?o:(e||K(n,"get",r),t?o:Ye(o)?a&&w(r)?o:o.value:p(o)?e?Ce(o):We(o):o)}}function ne(e){return void 0===e&&(e=!1),function(t,n,r,i){var a=t[n];if(De(a)&&Ye(a)&&!Ye(r))return!1;if(!e&&(Fe(r)||De(r)||(a=Le(a),r=Le(r)),!h(t)&&Ye(a)&&!Ye(r)))return a.value=r,!0;var o=h(t)&&w(n)?Number(n)<t.length:f(t,n),u=Reflect.set(t,n,r,i);return t===Le(i)&&(o?b(r,a)&&B(t,"set",n,r,a):B(t,"add",n,r)),u}}var re={get:q,set:ne(),deleteProperty:function(e,t){var n=f(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&B(e,"delete",t,void 0,r),i},has:function(e,t){var n=Reflect.has(e,t);return d(t)&&Y.has(t)||K(e,"has",t),n},ownKeys:function(e){return K(e,"iterate",h(e)?"length":A),Reflect.ownKeys(e)}},ie={get:J,set:function(e,t){return S('Set operation on key "'+String(t)+'" failed: target is readonly.',e),!0},deleteProperty:function(e,t){return S('Delete operation on key "'+String(t)+'" failed: target is readonly.',e),!0}},ae=s({},re,{get:G,set:ne(!0)}),oe=s({},ie,{get:Q}),ue=function(e){return e},se=function(e){return Reflect.getPrototypeOf(e)};function ce(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var i=Le(e=e.__v_raw),a=Le(t);n||(t!==a&&K(i,"get",t),K(i,"get",a));var o=se(i).has,u=r?ue:n?He:Be;return o.call(i,t)?u(e.get(t)):o.call(i,a)?u(e.get(a)):void(e!==i&&e.get(t))}function fe(e,t){void 0===t&&(t=!1);var n=this.__v_raw,r=Le(n),i=Le(e);return t||(e!==i&&K(r,"has",e),K(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function he(e,t){return void 0===t&&(t=!1),e=e.__v_raw,!t&&K(Le(e),"iterate",A),Reflect.get(e,"size",e)}function le(e){e=Le(e);var t=Le(this);return se(t).has.call(t,e)||(t.add(e),B(t,"add",e,e)),this}function ve(e,t){t=Le(t);var n=Le(this),r=se(n),i=r.has,a=r.get,o=i.call(n,e);o?Te(n,i,e):(e=Le(e),o=i.call(n,e));var u=a.call(n,e);return n.set(e,t),o?b(t,u)&&B(n,"set",e,t,u):B(n,"add",e,t),this}function de(e){var t=Le(this),n=se(t),r=n.has,i=n.get,a=r.call(t,e);a?Te(t,r,e):(e=Le(e),a=r.call(t,e));var o=i?i.call(t,e):void 0,u=t.delete(e);return a&&B(t,"delete",e,void 0,o),u}function pe(){var e=Le(this),t=0!==e.size,n=l(e)?new Map(e):new Set(e),r=e.clear();return t&&B(e,"clear",void 0,void 0,n),r}function _e(e,t){return function(n,r){var i=this,a=i.__v_raw,o=Le(a),u=t?ue:e?He:Be;return!e&&K(o,"iterate",A),a.forEach((function(e,t){return n.call(r,u(e),u(t),i)}))}}function ge(e,t,n){return function(){var r,i=this.__v_raw,a=Le(i),o=l(a),u="entries"===e||e===Symbol.iterator&&o,s="keys"===e&&o,c=i[e].apply(i,arguments),f=n?ue:t?He:Be;return!t&&K(a,"iterate",s?z:A),(r={next:function(){var e=c.next(),t=e.value,n=e.done;return n?{value:t,done:n}:{value:u?[f(t[0]),f(t[1])]:f(t),done:n}}})[Symbol.iterator]=function(){return this},r}}function ye(e){return function(){var t=(arguments.length<=0?void 0:arguments[0])?'on key "'+(arguments.length<=0?void 0:arguments[0])+'" ':"";return console.warn(R(e)+" operation "+t+"failed: target is readonly.",Le(this)),"delete"!==e&&this}}function we(){var e={get:function(e){return ce(this,e)},get size(){return he(this)},has:fe,add:le,set:ve,delete:de,clear:pe,forEach:_e(!1,!1)},t={get:function(e){return ce(this,e,!1,!0)},get size(){return he(this)},has:fe,add:le,set:ve,delete:de,clear:pe,forEach:_e(!1,!0)},n={get:function(e){return ce(this,e,!0)},get size(){return he(this,!0)},has:function(e){return fe.call(this,e,!0)},add:ye("add"),set:ye("set"),delete:ye("delete"),clear:ye("clear"),forEach:_e(!0,!1)},r={get:function(e){return ce(this,e,!0,!0)},get size(){return he(this,!0)},has:function(e){return fe.call(this,e,!0)},add:ye("add"),set:ye("set"),delete:ye("delete"),clear:ye("clear"),forEach:_e(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((function(i){e[i]=ge(i,!1,!1),n[i]=ge(i,!0,!1),t[i]=ge(i,!1,!0),r[i]=ge(i,!0,!0)})),[e,n,t,r]}var Re=we(),be=Re[0],ke=Re[1],Se=Re[2],me=Re[3];function je(e,t){var n=t?e?me:Se:e?ke:be;return function(t,r,i){return"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(f(n,r)&&r in t?n:t,r,i)}}var Ee={get:je(!1,!1)},Oe={get:je(!1,!0)},xe={get:je(!0,!1)},Pe={get:je(!0,!0)};function Te(e,t,n){var r=Le(n);if(r!==n&&t.call(e,r)){var i=y(e);console.warn("Reactive "+i+" contains both the raw and reactive versions of the same object"+("Map"===i?" as keys":"")+", which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.")}}var Me=new WeakMap,Ve=new WeakMap,Ae=new WeakMap,ze=new WeakMap;function We(e){return De(e)?e:Ie(e,!1,re,Ee,Me)}function Ce(e){return Ie(e,!0,ie,xe,Ae)}function Ie(e,t,n,r,i){if(!p(e))return console.warn("value cannot be made reactive: "+String(e)),e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;var a=i.get(e);if(a)return a;var o,u=(o=e).__v_skip||!Object.isExtensible(o)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(y(o));if(0===u)return e;var s=new Proxy(e,2===u?r:n);return i.set(e,s),s}function Ne(e){return De(e)?Ne(e.__v_raw):!(!e||!e.__v_isReactive)}function De(e){return!(!e||!e.__v_isReadonly)}function Fe(e){return!(!e||!e.__v_isShallow)}function Ke(e){return Ne(e)||De(e)}function Le(e){var t=e&&e.__v_raw;return t?Le(t):e}var Be=function(e){return p(e)?We(e):e},He=function(e){return p(e)?Ce(e):e};function Ze(e){I&&E&&L((e=Le(e)).dep||(e.dep=O()),{target:e,type:"get",key:"value"})}function Ue(e,t){var n=(e=Le(e)).dep;n&&H(n,{target:e,type:"set",key:"value",newValue:t})}function Ye(e){return!(!e||!0!==e.__v_isRef)}function qe(e){return Ge(e,!1)}function Ge(e,t){return Ye(e)?e:new Je(e,t)}var Je=function(){function e(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Le(e),this._value=t?e:Be(e)}return t(e,[{key:"value",get:function(){return Ze(this),this._value},set:function(e){var t=this.__v_isShallow||Fe(e)||De(e);e=t?e:Le(e),b(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Be(e),Ue(this,e))}}]),e}();function Qe(e){return Ye(e)?e.value:e}var Xe={get:function(e,t,n){return Qe(Reflect.get(e,t,n))},set:function(e,t,n,r){var i=e[t];return Ye(i)&&!Ye(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};var $e=function(){function e(e){var t=this;this.dep=void 0,this.__v_isRef=!0;var n=e((function(){return Ze(t)}),(function(){return Ue(t)})),r=n.get,i=n.set;this._get=r,this._set=i}return t(e,[{key:"value",get:function(){return this._get()},set:function(e){this._set(e)}}]),e}();var et=function(){function e(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}return t(e,[{key:"value",get:function(){var e=this._object[this._key];return void 0===e?this._defaultValue:e},set:function(e){this._object[this._key]=e}},{key:"dep",get:function(){return e=Le(this._object),t=this._key,null==(n=T.get(e))?void 0:n.get(t);var e,t,n}}]),e}(),tt=function(){function e(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}return t(e,[{key:"value",get:function(){return this._getter()}}]),e}();function nt(e,t,n){var r=e[t];return Ye(r)?r:new et(e,t,n)}var rt=function(){function e(e,t,n,r){var i=this;this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new W(e,(function(){i._dirty||(i._dirty=!0,Ue(i))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}return t(e,[{key:"value",get:function(){var e=Le(this);return Ze(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value},set:function(e){this._setter(e)}}]),e}();var it=Promise.resolve(),at=[],ot=!1,ut=function(){for(var e=0;e<at.length;e++)at[e]();at.length=0,ot=!1},st=function(){function e(t){var r,i=this;this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.__v_isReadonly=!0;var a=!1,o=!1;this.effect=new W(t,(function(t){if(i.dep){if(t)r=i._value,a=!0;else if(!o){var u=a?r:i._value;o=!0,a=!1,function(e){at.push(e),ot||(ot=!0,it.then(ut))}((function(){i.effect.active&&i._get()!==u&&Ue(i),o=!1}))}for(var s,c=n(i.dep);!(s=c()).done;){var f=s.value;f.computed instanceof e&&f.scheduler(!0)}}i._dirty=!0})),this.effect.computed=this}return e.prototype._get=function(){return this._dirty?(this._dirty=!1,this._value=this.effect.run()):this._value},t(e,[{key:"value",get:function(){return Ze(this),Le(this)._get()}}]),e}();r._RF.pop()}}}));

System.register("chunks:///_virtual/RedBall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AtlasAnimation.ts","./AudioManager.ts"],(function(t){var n,e,o,a,i,r,s,l;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,a=t.Sprite,i=t.Component},function(t){r=t.AtlasAnimation},function(t){s=t.AudioManager,l=t.SoundEffect}],execute:function(){var c;e._RF.push({},"9601eO2oR1IVIJFinG9o5ZZ","RedBall",void 0);var u=o.ccclass;o.property,t("RedBall",u("RedBall")(c=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).animation=void 0,n}n(e,t);var o=e.prototype;return o.start=function(){var t=this.node.getComponent(a);this.animation=new r(t.spriteAtlas,t,4,!0),this.animation.play()},o.eaten=function(){s.inst.playOneShot(l.RedBallEaten),this.node.emit("eaten"),this.node.destroy()},o.update=function(t){this.animation.update()},e}(i))||c);e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});